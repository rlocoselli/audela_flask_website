"""Very small i18n layer (no external build step).

This project is a Flask website and a lightweight BI portal.

We intentionally keep i18n *self-contained* (dictionary-based) to avoid introducing
extra build steps (.po/.mo compilation) and to make deployment simpler.

Usage:
- In Jinja templates: {{ _('Some text') }}
- In Python: tr('Some text', lang)
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any


DEFAULT_LANG = "pt"


@dataclass(frozen=True)
class LangInfo:
    code: str
    label: str


SUPPORTED_LANGS: dict[str, LangInfo] = {
    "pt": LangInfo("pt", "Português"),
    "en": LangInfo("en", "English"),
    "fr": LangInfo("fr", "Français"),
    "es": LangInfo("es", "Español"),
    "it": LangInfo("it", "Italiano"),
    "de": LangInfo("de", "Deutsch"),
}


# msgid -> translation
TRANSLATIONS: dict[str, dict[str, str]] = {
    "pt": {
        # Nota: As chaves em português já são os msgid, então este dicionário é principalmente
        # para referência e consistência. A função tr() retorna a chave quando lang==DEFAULT_LANG

        # Auth messages
        "Tenant não encontrado.": "Tenant não encontrado.",
        "Credenciais inválidas.": "Credenciais inválidas.",
        "Preencha todos os campos.": "Preencha todos os campos.",
        "Slug já existe.": "Slug já existe.",
        "Tenant criado. Faça login.": "Tenant criado. Faça login.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Preencha nome, tipo e URL de conexão.",
        "Fonte criada.": "Fonte criada.",
        "Fonte removida.": "Fonte removida.",
        "Falha ao introspectar: {error}": "Falha ao introspectar: {error}",
        "Selecione uma fonte válida.": "Selecione uma fonte válida.",
        "Selecione uma fonte.": "Selecione uma fonte.",
        "Fonte inválida.": "Fonte inválida.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Preencha nome, fonte e SQL.",
        "Pergunta criada.": "Pergunta criada.",
        "Pergunta removida.": "Pergunta removida.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard criado.",
        "Dashboard removido.": "Dashboard removido.",
        "Dashboard definido como principal.": "Dashboard definido como principal.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operação não suportada: execute as migrações do banco para habilitar essa função.",
        "Informe um nome.": "Informe um nome.",

        # Configuration messages
        "Configuração inválida.": "Configuração inválida.",

        # User messages
        "Email e senha são obrigatórios.": "Email e senha são obrigatórios.",
        "Usuário criado.": "Usuário criado.",
        "Usuário removido.": "Usuário removido.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Não foi possível identificar uma tabela com segurança.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.",
        "Tabela não identificada": "Tabela não identificada",
        "Texto vazio": "Texto vazio",
        "Coluna métrica escolhida por fallback": "Coluna métrica escolhida por fallback",
        "Coluna métrica não identificada": "Coluna métrica não identificada",

        # Placeholder texts
        "Ex.: DW Produção": "Ex.: DW Produção",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ex.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "ex: total vendas por mês",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "tenant slug (ex.: acme)",
        "nome do tenant": "nome do tenant",
        "email do admin": "email do admin",
        "senha": "senha",
        "value": "value",
        "SELECT ...": "SELECT ...",
    },
    "en": {
        "Accueil": "Home",
        "À propos": "About",
        "Expertise": "Expertise",
        "Solutions": "Solutions",
        "Pourquoi AUDELA": "Why AUDELA",
        "Projets": "Projects",
        "Plans BI": "BI Plans",
        "Área BI": "BI Area",
        "Contact": "Contact",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "All rights reserved.",

        # Index / landing
        "La technologie au service de la décision.": "Technology powering better decisions.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & AI — at the heart of your operations.",
        "Illustration AUDELA": "AUDELA illustration",
        "Next": "Next",
        "Grenoble & Alpes": "Grenoble & Alps",
        "Au-delà des données": "Beyond data",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Turn information into decisions — with robust software engineering and real business understanding.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "We build systems that last: industrialized data pipelines, reliable APIs, web & mobile apps, and dashboards understandable by both field teams and executives.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Our approach is pragmatic and production-first: security, performance, observability, documentation, and knowledge transfer. Goal: deliver fast, without technical debt.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Data analysis & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestion, modeling, quality and exposure: reliable, traceable and actionable indicators.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "We connect your systems (ERP, CRM, finance, operations, APIs), structure data (DWH/ELT), and deliver dashboards that answer concrete questions: margin, sales performance, lead times, risks, compliance.",
        "Voir les écrans Metabase": "See Metabase screens",
        "Plateformes métiers": "Business platforms",
        "Plateformes métiers, ERP & IA appliquée": "Business platforms, ERP & Applied AI",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Business tools that reflect your workflows, with useful and explainable AI.",
        "Découvrir BeLegal": "Discover BeLegal",

        # Portal
        "Portal BI": "BI Portal",
        "Usuário": "User",
        "Sair": "Logout",
        "Home": "Home",
        "Fontes": "Data sources",
        "Metadados": "Metadata",
        "Editor SQL": "SQL Editor",
        "Query Builder": "Query Builder",
        "Perguntas": "Questions",
        "Dashboards": "Dashboards",
        "Execuções": "Runs",
        "Auditoria": "Audit",
        "Voltar": "Back",
        "Cancelar": "Cancel",
        "Salvar": "Save",
        "Executar": "Run",
        "Resultado": "Result",
        "Erro": "Error",
        "Linhas": "Rows",
        "Linhas retornadas": "Returned rows",
        "Nova pergunta": "New question",
        "Nova fonte": "New data source",
        "Criar": "Create",
        "Dashboard": "Dashboard",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "No cards yet. Create a dashboard by selecting questions.",
        "Exportar PDF": "Export PDF",
        "Limpar filtros": "Clear filters",
        "Filtros": "Filters",
        "Adicionar filtro": "Add filter",
        "Visualização": "Visualization",
        "Configurar visualização": "Configure visualization",
        "Prévia": "Preview",
        "Tipo": "Type",
        "Tabela": "Table",
        "Gráfico": "Chart",
        "Pivot": "Pivot",
        "Gauges": "Gauges",
        "Drill down": "Drill down",
        "Exportar": "Export",
        "Gerar SQL": "Generate SQL",
        "Linguagem humana": "Natural language",
        "Gerar": "Generate",
        "Tabelas": "Tables",
        "Colunas": "Columns",
        "Executar pergunta": "Run question",
        "Parâmetros (JSON)": "Parameters (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Use :param_name in SQL and fill values here. tenant_id is applied automatically.",
        "Gerar SQL no editor": "Generate SQL in editor",
        "Fonte de dados": "Data source",
        "Estrutura": "Schema",
        "Limite": "Limit",
        "montar SELECT com ajuda da estrutura": "build SELECT with schema help",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Choose a source to see tables and columns (autocomplete).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Run ad-hoc queries with autocomplete, a query builder, and natural language.",
        "Sem linhas retornadas.": "No rows returned.",

        # UI+AI
        "Editar layout": "Edit layout",
        "Salvar layout": "Save layout",
        "Cancelar edição": "Cancel edit",
        "Layout salvo.": "Layout saved.",
        "Falha ao salvar layout.": "Failed to save layout.",
        "Modo edição": "Edit mode",
        "IA": "AI",
        "Chat IA": "AI chat",
        "Pergunte sobre os dados": "Ask about the data",
        "Selecione uma pergunta": "Select a question",
        "Enviar": "Send",
        "Mensagem": "Message",
        "Histórico": "History",
        "Limpar chat": "Clear chat",
        "Gerando resposta...": "Generating response...",
        "Análise": "Analysis",
        "Gráficos sugeridos": "Suggested charts",
        "Sugestões de follow-up": "Follow-up suggestions",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Missing OpenAI key. Set OPENAI_API_KEY on the server.",
        "Erro ao chamar IA: {error}": "AI call failed: {error}",
        "Tema": "Theme",
        "Claro": "Light",
        "Escuro": "Dark",
        "Explorar": "Explore",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Explore data and create visualizations like Superset/Metabase.",
        "Adicionar card": "Add card",
        "Remover card": "Remove card",
        "Buscar pergunta": "Search question",
        "Digite para filtrar...": "Type to filter...",
        "Você pode refinar depois em Configurar visualização.": "You can refine later in Configure visualization.",
        "Atualizar": "Refresh",
        "Salvar visualização": "Save visualization",
        "Visualização salva.": "Visualization saved.",
        "Adicionar ao dashboard": "Add to dashboard",
        "Cria um card no dashboard com esta visualização.": "Creates a dashboard card with this visualization.",
        "Card adicionado ao dashboard.": "Card added to dashboard.",
        "Card criado. Recarregando...": "Card created. Reloading...",
        "Criando card...": "Creating card...",
        "Remover card?": "Remove card?",
        "Sem filtros.": "No filters.",
        "Campo": "Field",
        "Dimensão": "Dimension",
        "Métrica": "Metric",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Click the chart to filter by a value.",
        "Pivot linhas": "Pivot rows",
        "Pivot colunas": "Pivot columns",
        "Pivot valor": "Pivot value",
        "Carregando...": "Loading...",
        "Visuels & cas d’usage : Data, IA, ERP": "Visuals & use cases: Data, AI, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "A glimpse of the types of solutions we design: operational dashboards, automation and applied intelligence.",
        "Data & BI": "Data & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Executive dashboards, KPIs, governance, quality and end-to-end traceability.",
        "IA appliquée": "Applied AI",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Anomaly detection, risk scoring, business assistants and predictive analytics.",
        "ERP & workflows": "ERP & workflows",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Business workflows, system integrations, automation, controls and auditability.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Case management, matter-level profitability, document generation, compliance.",
        "Pourquoi AUDELA": "Why AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Deep expertise, rigorous execution, and an obsession with production quality.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, clean integrations: a solid foundation to last and scale.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Compliance and governance: access controls, traceability, and IT best practices.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & quality: from source to dashboard, without compromising data.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, logs & alerting: stability, performance and fast production deployments.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperability: ERP/CRM/business tools connectivity, synchronization and automation.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery and handover: scoping, documentation and upskilling your teams.",
        "Découvrir nos plans BI": "Discover our BI plans",
        "Default": "Default",
        "Aurora": "Aurora",
        "Nimbus": "Nimbus",
        "Onyx": "Onyx",
        "Select data source": "Select data source",
        "Load diagram": "Load diagram",
        "Refresh": "Refresh",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Click a node to highlight relations. Use mousewheel to zoom.",
        "Parlons de votre projet": "Let's talk about your project",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Describe your need (Data/BI, ERP, LegalTech, AI, Mobile, IoT). We'll get back to you quickly.",
        "Votre adresse e-mail": "Your email address",
        "Être rappelé": "Be contacted",
        "OK": "OK",
            # Source diagram module
            "Source Diagram": "Source Diagram",
            "Select data source": "Select data source",
            "Load diagram": "Load diagram",
            "Refresh": "Refresh",
            "Click a node to highlight relations. Use mousewheel to zoom.": "Click a node to highlight relations. Use mousewheel to zoom.",

            # Auth messages
            "Tenant não encontrado.": "Tenant not found.",
            "Credenciais inválidas.": "Invalid credentials.",
            "Preencha todos os campos.": "Fill in all fields.",
            "Slug já existe.": "Slug already exists.",
            "Tenant criado. Faça login.": "Tenant created. Please log in.",

            # Data source messages
            "Preencha nome, tipo e URL de conexão.": "Fill in name, type, and connection URL.",
            "Fonte criada.": "Data source created.",
            "Fonte removida.": "Data source removed.",
            "Falha ao introspectar: {error}": "Introspection failed: {error}",
            "Selecione uma fonte válida.": "Select a valid data source.",
            "Selecione uma fonte.": "Select a data source.",
            "Fonte inválida.": "Invalid data source.",

            # Question messages
            "Preencha nome, fonte e SQL.": "Fill in name, data source, and SQL.",
            "Pergunta criada.": "Question created.",
            "Pergunta removida.": "Question removed.",

            # Dashboard messages
            "Dashboard criado.": "Dashboard created.",
            "Dashboard removido.": "Dashboard removed.",
            "Dashboard definido como principal.": "Dashboard set as primary.",
            "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operation not supported: run database migrations to enable this feature.",
            "Informe um nome.": "Enter a name.",

            # Configuration messages
            "Configuração inválida.": "Invalid configuration.",

            # User messages
            "Email e senha são obrigatórios.": "Email and password are required.",
            "Usuário criado.": "User created.",
            "Usuário removido.": "User removed.",

            # NLQ service messages
            "Não foi possível identificar uma tabela com segurança.": "Could not safely identify a table.",
            "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Select a table in Query Builder (on the right) or write SQL manually.",
            "Tabela não identificada": "Table not identified",
            "Texto vazio": "Empty text",
            "Coluna métrica escolhida por fallback": "Metric column chosen by fallback",
            "Coluna métrica não identificada": "Metric column not identified",

            # Placeholder texts
            "Ex.: DW Produção": "Ex.: DW Production",
            "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ex.: postgresql+psycopg://user:pass@host:5432/dbname",
            "public": "public",
            "tenant_id": "tenant_id",
            "ex: total vendas por mês": "ex: total sales per month",
            "acme": "acme",
            "you@example.com": "you@example.com",
            "tenant slug (ex.: acme)": "tenant slug (ex.: acme)",
            "nome do tenant": "tenant name",
            "email do admin": "admin email",
            "senha": "password",
            "value": "value",
            "SELECT ...": "SELECT ...",

    },
    "fr": {
        # Public
        "Accueil": "Accueil",
        "À propos": "À propos",
        "Expertise": "Expertise",
        "Solutions": "Solutions",
        "Pourquoi AUDELA": "Pourquoi AUDELA",
        "Projets": "Projets",
        "Plans BI": "Plans BI",
        "Área BI": "Espace BI",
        "Contact": "Contact",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Tous droits réservés.",

        # Index / landing
        "La technologie au service de la décision.": "La technologie au service de la décision.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.",
        "Illustration AUDELA": "Illustration AUDELA",
        "Next": "Suivant",
        "Grenoble & Alpes": "Grenoble & Alpes",
        "Au-delà des données": "Au-delà des données",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Analyse de données & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.",
        "Voir les écrans Metabase": "Voir les écrans Metabase",
        "Plateformes métiers": "Plateformes métiers",
        "Plateformes métiers, ERP & IA appliquée": "Plateformes métiers, ERP & IA appliquée",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.",
        "Découvrir BeLegal": "Découvrir BeLegal",

        # Portal
        "Portal BI": "Portail BI",
        "Usuário": "Utilisateur",
        "Sair": "Déconnexion",
        "Home": "Accueil",
        "Fontes": "Sources",
        "Metadados": "Métadonnées",
        "Editor SQL": "Éditeur SQL",
        "Query Builder": "Constructeur de requêtes",
        "Perguntas": "Questions",
        "Dashboards": "Tableaux de bord",
        "Execuções": "Exécutions",
        "Auditoria": "Audit",
        "Voltar": "Retour",
        "Cancelar": "Annuler",
        "Salvar": "Enregistrer",
        "Executar": "Exécuter",
        "Resultado": "Résultat",
        "Erro": "Erreur",
        "Linhas": "Lignes",
        "Linhas retornadas": "Lignes retournées",
        "Nova pergunta": "Nouvelle question",
        "Nova fonte": "Nouvelle source",
        "Criar": "Créer",
        "Dashboard": "Tableau de bord",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Aucune carte pour le moment. Créez un tableau de bord en choisissant des questions.",
        "Exportar PDF": "Exporter en PDF",
        "Limpar filtros": "Effacer les filtres",
        "Filtros": "Filtres",
        "Adicionar filtro": "Ajouter un filtre",
        "Visualização": "Visualisation",
        "Configurar visualização": "Configurer la visualisation",
        "Prévia": "Aperçu",
        "Tipo": "Type",
        "Tabela": "Table",
        "Gráfico": "Graphique",
        "Pivot": "Pivot",
        "Gauges": "Jauges",
        "Drill down": "Exploration",
        "Exportar": "Exporter",
        "Gerar SQL": "Générer SQL",
        "Linguagem humana": "Langage naturel",
        "Gerar": "Générer",
        "Tabelas": "Tables",
        "Colunas": "Colonnes",
        "Executar pergunta": "Exécuter la question",
        "Parâmetros (JSON)": "Paramètres (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Utilisez :nom_param dans le SQL et renseignez les valeurs ici. tenant_id est appliqué automatiquement.",
        "Gerar SQL no editor": "Générer SQL dans l’éditeur",
        "Fonte de dados": "Source de données",
        "Estrutura": "Schéma",
        "Limite": "Limite",
        "montar SELECT com ajuda da estrutura": "construire un SELECT avec l’aide du schéma",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Choisissez une source pour voir tables et colonnes (autocomplétion).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Exécutez des requêtes ad hoc avec autocomplétion, constructeur de requêtes et langage naturel.",
        "Sem linhas retornadas.": "Aucune ligne retournée.",

        # UI+AI
        "Editar layout": "Éditer la mise en page",
        "Salvar layout": "Enregistrer la mise en page",
        "Cancelar edição": "Annuler l’édition",
        "Layout salvo.": "Mise en page enregistrée.",
        "Falha ao salvar layout.": "Échec de l’enregistrement de la mise en page.",
        "Modo edição": "Mode édition",
        "IA": "IA",
        "Chat IA": "Chat IA",
        "Pergunte sobre os dados": "Interroger les données",
        "Selecione uma pergunta": "Sélectionnez une question",
        "Enviar": "Envoyer",
        "Mensagem": "Message",
        "Histórico": "Historique",
        "Limpar chat": "Effacer le chat",
        "Gerando resposta...": "Génération de la réponse…",
        "Análise": "Analyse",
        "Gráficos sugeridos": "Graphiques suggérés",
        "Sugestões de follow-up": "Suggestions de suivi",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Clé OpenAI manquante. Définissez OPENAI_API_KEY sur le serveur.",
        "Erro ao chamar IA: {error}": "Erreur d’appel IA : {error}",
        "Tema": "Thème",
        "Claro": "Clair",
        "Escuro": "Sombre",
        "Explorar": "Explorer",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Explorez les données et créez des visualisations comme Superset/Metabase.",
        "Adicionar card": "Ajouter une carte",
        "Remover card": "Supprimer la carte",
        "Buscar pergunta": "Rechercher une question",
        "Digite para filtrar...": "Tapez pour filtrer…",
        "Você pode refinar depois em Configurar visualização.": "Vous pourrez affiner ensuite dans Configurer la visualisation.",
        "Atualizar": "Actualiser",
        "Salvar visualização": "Enregistrer la visualisation",
        "Visualização salva.": "Visualisation enregistrée.",
        "Adicionar ao dashboard": "Ajouter au dashboard",
        "Cria um card no dashboard com esta visualização.": "Crée une carte dans le dashboard avec cette visualisation.",
        "Card adicionado ao dashboard.": "Carte ajoutée au dashboard.",
        "Card criado. Recarregando...": "Carte créée. Rechargement…",
        "Criando card...": "Création de la carte…",
        "Remover card?": "Supprimer la carte ?",
        "Sem filtros.": "Aucun filtre.",
        "Campo": "Champ",
        "Dimensão": "Dimension",
        "Métrica": "Mesure",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Cliquez sur le graphique pour filtrer par une valeur.",
        "Pivot linhas": "Lignes pivot",
        "Pivot colunas": "Colonnes pivot",
        "Pivot valor": "Valeur pivot",
        "Visuels & cas d’usage : Data, IA, ERP": "Visuels & cas d’usage : Data, IA, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.",
        "Data & BI": "Data & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.",
        "IA appliquée": "IA appliquée",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.",
        "ERP & workflows": "ERP & workflows",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.",
        "Pourquoi AUDELA": "Pourquoi AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.",
        "Découvrir nos plans BI": "Découvrir nos plans BI",
        "Parlons de votre projet": "Parlons de votre projet",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.",
        "Votre adresse e-mail": "Votre adresse e-mail",
        "Être rappelé": "Être rappelé",
        "Carregando...": "Chargement…",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Diagramme source",
        "Select data source": "Sélectionnez la source de données",
        "Load diagram": "Charger le diagramme",
        "Refresh": "Rafraîchir",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Cliquez sur un nœud pour mettre en évidence les relations. Utilisez la molette pour zoomer.",

        # Auth messages
        "Tenant não encontrado.": "Tenant non trouvé.",
        "Credenciais inválidas.": "Identifiants invalides.",
        "Preencha todos os campos.": "Veuillez remplir tous les champs.",
        "Slug já existe.": "Le slug existe déjà.",
        "Tenant criado. Faça login.": "Tenant créé. Veuillez vous connecter.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Veuillez remplir le nom, le type et l'URL de connexion.",
        "Fonte criada.": "Source de données créée.",
        "Fonte removida.": "Source de données supprimée.",
        "Falha ao introspectar: {error}": "Introspection échouée : {error}",
        "Selecione uma fonte válida.": "Sélectionnez une source de données valide.",
        "Selecione uma fonte.": "Sélectionnez une source de données.",
        "Fonte inválida.": "Source de données invalide.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Veuillez remplir le nom, la source et le SQL.",
        "Pergunta criada.": "Question créée.",
        "Pergunta removida.": "Question supprimée.",

        # Dashboard messages
        "Dashboard criado.": "Tableau de bord créé.",
        "Dashboard removido.": "Tableau de bord supprimé.",
        "Dashboard definido como principal.": "Tableau de bord défini comme principal.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Opération non supportée : exécutez les migrations de la base de données pour activer cette fonction.",
        "Informe um nome.": "Veuillez entrer un nom.",

        # Configuration messages
        "Configuração inválida.": "Configuration invalide.",

        # User messages
        "Email e senha são obrigatórios.": "L'e-mail et le mot de passe sont obligatoires.",
        "Usuário criado.": "Utilisateur créé.",
        "Usuário removido.": "Utilisateur supprimé.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Impossible d'identifier une table en toute sécurité.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Sélectionnez une table dans le Constructeur de requêtes (à droite) ou écrivez le SQL manuellement.",
        "Tabela não identificada": "Table non identifiée",
        "Texto vazio": "Texte vide",
        "Coluna métrica escolhida por fallback": "Colonne de métrique choisie par défaut",
        "Coluna métrica não identificada": "Colonne de métrique non identifiée",

        # Placeholder texts
        "Ex.: DW Produção": "Ex. : DW Production",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ex. : postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "ex : ventes totales par mois",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "slug du tenant (ex. : acme)",
        "nome do tenant": "nom du tenant",
        "email do admin": "e-mail de l'administrateur",
        "senha": "mot de passe",
        "value": "valeur",
        "SELECT ...": "SELECT ...",

    },
    "es": {
        "Accueil": "Inicio",
        "À propos": "Acerca de",
        "Expertise": "Experiencia",
        "Solutions": "Soluciones",
        "Pourquoi AUDELA": "Por qué AUDELA",
        "Projets": "Proyectos",
        "Plans BI": "Planes BI",
        "Área BI": "Área BI",
        "Contact": "Contacto",
        "Mobile": "Móvil",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Todos los derechos reservados.",

        # Index / landing
        "La technologie au service de la décision.": "La tecnología al servicio de la decisión.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & IA — en el corazón de sus operaciones.",
        "Illustration AUDELA": "Ilustración AUDELA",
        "Next": "Siguiente",
        "Grenoble & Alpes": "Grenoble & Alpes",
        "Au-delà des données": "Más allá de los datos",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Convertir la información en decisiones — con ingeniería de software robusta y comprensión real del negocio.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Construimos sistemas que perduran: pipelines de datos industrializados, APIs fiables, aplicaciones web y móviles, y dashboards comprensibles por equipos de campo y dirección.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Nuestro enfoque es pragmático y production-first: seguridad, rendimiento, observabilidad, documentación y transferencia de conocimientos. Objetivo: entregar rápido, sin deuda técnica.",
        "Business Intelligence": "Inteligencia de negocios",
        "Analyse de données & Business Intelligence": "Análisis de datos e Inteligencia de negocios",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingesta, modelado, calidad y exposición: indicadores confiables, trazables y accionables.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Conectamos sus sistemas (ERP, CRM, finanzas, operaciones, APIs), estructuramos los datos (DWH/ELT) y entregamos dashboards que responden a preguntas concretas: margen, rendimiento comercial, plazos, riesgos, cumplimiento.",
        "Voir les écrans Metabase": "Ver las pantallas de Metabase",
        "Plateformes métiers": "Plataformas empresariales",
        "Plateformes métiers, ERP & IA appliquée": "Plataformas empresariales, ERP e IA aplicada",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Herramientas empresariales que reflejan sus flujos de trabajo, con IA útil y explicable.",
        "Découvrir BeLegal": "Descubrir BeLegal",

        "Portal BI": "Portal BI",
        "Usuário": "Usuario",
        "Sair": "Salir",
        "Home": "Inicio",
        "Fontes": "Fuentes",
        "Metadados": "Metadatos",
        "Editor SQL": "Editor SQL",
        "Query Builder": "Constructor de consultas",
        "Perguntas": "Preguntas",
        "Dashboards": "Tableros",
        "Execuções": "Ejecuciones",
        "Auditoria": "Auditoría",
        "Voltar": "Volver",
        "Cancelar": "Cancelar",
        "Salvar": "Guardar",
        "Executar": "Ejecutar",
        "Resultado": "Resultado",
        "Erro": "Error",
        "Linhas": "Filas",
        "Linhas retornadas": "Filas devueltas",
        "Nova pergunta": "Nueva pregunta",
        "Nova fonte": "Nueva fuente",
        "Criar": "Crear",
        "Dashboard": "Tablero",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Aún no hay tarjetas. Crea un tablero seleccionando preguntas.",
        "Exportar PDF": "Exportar PDF",
        "Limpar filtros": "Limpiar filtros",
        "Filtros": "Filtros",
        "Adicionar filtro": "Agregar filtro",
        "Visualização": "Visualización",
        "Configurar visualização": "Configurar visualización",
        "Prévia": "Vista previa",
        "Tipo": "Tipo",
        "Tabela": "Tabla",
        "Gráfico": "Gráfico",
        "Pivot": "Pivot",
        "Gauges": "Medidores",
        "Drill down": "Desglose",
        "Exportar": "Exportar",
        "Gerar SQL": "Generar SQL",
        "Linguagem humana": "Lenguaje natural",
        "Gerar": "Generar",
        "Tabelas": "Tablas",
        "Colunas": "Columnas",
        "Executar pergunta": "Ejecutar pregunta",
        "Parâmetros (JSON)": "Parámetros (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Use :nombre_param en el SQL y complete los valores aquí. tenant_id se aplica automáticamente.",
        "Gerar SQL no editor": "Generar SQL en el editor",
        "Fonte de dados": "Fuente de datos",
        "Estrutura": "Esquema",
        "Limite": "Límite",
        "montar SELECT com ajuda da estrutura": "construir SELECT con ayuda del esquema",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Elige una fuente para ver tablas y columnas (autocompletado).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Ejecuta consultas ad-hoc con autocompletado, constructor de consultas y lenguaje natural.",
        "Sem linhas retornadas.": "No se devolvieron filas.",

        # UI+AI
        "Editar layout": "Editar diseño",
        "Salvar layout": "Guardar diseño",
        "Cancelar edição": "Cancelar edición",
        "Layout salvo.": "Diseño guardado.",
        "Falha ao salvar layout.": "Error al guardar el diseño.",
        "Modo edição": "Modo edición",
        "IA": "IA",
        "Chat IA": "Chat IA",
        "Pergunte sobre os dados": "Preguntar sobre los datos",
        "Selecione uma pergunta": "Seleccione una pregunta",
        "Enviar": "Enviar",
        "Mensagem": "Mensaje",
        "Histórico": "Historial",
        "Limpar chat": "Limpiar chat",
        "Gerando resposta...": "Generando respuesta...",
        "Análise": "Análisis",
        "Gráficos sugeridos": "Gráficos sugeridos",
        "Sugestões de follow-up": "Sugerencias de seguimiento",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Falta la clave de OpenAI. Defina OPENAI_API_KEY en el servidor.",
        "Erro ao chamar IA: {error}": "Error al llamar a la IA: {error}",
        "Tema": "Tema",
        "Claro": "Claro",
        "Escuro": "Oscuro",
        "Explorar": "Explorar",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Explora datos y crea visualizaciones como Superset/Metabase.",
        "Adicionar card": "Añadir tarjeta",
        "Remover card": "Eliminar tarjeta",
        "Buscar pergunta": "Buscar pregunta",
        "Digite para filtrar...": "Escribe para filtrar...",
        "Você pode refinar depois em Configurar visualização.": "Puedes refinar después en Configurar visualización.",
        "Atualizar": "Actualizar",
        "Salvar visualização": "Guardar visualización",
        "Visualização salva.": "Visualización guardada.",
        "Adicionar ao dashboard": "Añadir al dashboard",
        "Cria um card no dashboard com esta visualização.": "Crea una tarjeta en el dashboard con esta visualización.",
        "Card adicionado ao dashboard.": "Tarjeta añadida al dashboard.",
        "Card criado. Recarregando...": "Tarjeta creada. Recargando...",
        "Criando card...": "Creando tarjeta...",
        "Remover card?": "¿Eliminar tarjeta?",
        "Sem filtros.": "Sin filtros.",
        "Campo": "Campo",
        "Dimensão": "Dimensión",
        "Métrica": "Métrica",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Haz clic en el gráfico para filtrar por un valor.",
        "Pivot linhas": "Filas pivot",
        "Pivot colunas": "Columnas pivot",
        "Pivot valor": "Valor pivot",
        "Visuels & cas d’usage : Data, IA, ERP": "Visuales y casos de uso: Datos, IA, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Una visión de los tipos de soluciones que diseñamos: cuadros de mando, automatización e inteligencia aplicada.",
        "Data & BI": "Datos & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Cuadros de mando ejecutivos, KPIs, gobernanza, calidad y trazabilidad de extremo a extremo.",
        "IA appliquée": "IA aplicada",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Detección de anomalías, scoring de riesgos, asistentes de negocio y análisis predictivo.",
        "ERP & workflows": "ERP & flujos de trabajo",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Flujos de trabajo empresariales, integraciones de sistemas, automatización, controles y auditabilidad.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Gestión de expedientes, rentabilidad por asunto, generación documental, cumplimiento.",
        "Pourquoi AUDELA": "Por qué AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Experiencia profunda, ejecución rigurosa y obsesión por la calidad en producción.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, integraciones limpias: una base sólida para durar y escalar.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Cumplimiento y gobernanza: controles de acceso, trazabilidad y buenas prácticas de TI.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & calidad: desde la fuente hasta el cuadro de mando, sin comprometer los datos.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, logs & alerting: estabilidad, rendimiento y despliegues rápidos.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperabilidad: conexión ERP/CRM/herramientas de negocio, sincronización y automatización.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Entrega y transferencia: alcance, documentación y capacitación de sus equipos.",
        "Découvrir nos plans BI": "Descubre nuestros planes BI",
        "Parlons de votre projet": "Hablemos de tu proyecto",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Describe tu necesidad (Data/BI, ERP, LegalTech, IA, Móvil, IoT). Te contactamos rápidamente.",
        "Votre adresse e-mail": "Tu dirección de correo electrónico",
        "Être rappelé": "Ser contactado",
        "Carregando...": "Cargando...",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Diagrama de fuente",
        "Select data source": "Seleccione la fuente de datos",
        "Load diagram": "Cargar diagrama",
        "Refresh": "Actualizar",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Haga clic en un nodo para resaltar las relaciones. Use la rueda del ratón para acercar/alejar.",

        # Auth messages
        "Tenant não encontrado.": "Tenant no encontrado.",
        "Credenciais inválidas.": "Credenciales inválidas.",
        "Preencha todos os campos.": "Completa todos los campos.",
        "Slug já existe.": "El slug ya existe.",
        "Tenant criado. Faça login.": "Tenant creado. Por favor, inicia sesión.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Completa el nombre, tipo y URL de conexión.",
        "Fonte criada.": "Fuente de datos creada.",
        "Fonte removida.": "Fuente de datos eliminada.",
        "Falha ao introspectar: {error}": "Error de introspección: {error}",
        "Selecione uma fonte válida.": "Selecciona una fuente de datos válida.",
        "Selecione uma fonte.": "Selecciona una fuente de datos.",
        "Fonte inválida.": "Fuente de datos inválida.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Completa el nombre, la fuente y el SQL.",
        "Pergunta criada.": "Pregunta creada.",
        "Pergunta removida.": "Pregunta eliminada.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard creado.",
        "Dashboard removido.": "Dashboard eliminado.",
        "Dashboard definido como principal.": "Dashboard definido como principal.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operación no soportada: ejecuta las migraciones de base de datos para habilitar esta función.",
        "Informe um nome.": "Ingresa un nombre.",

        # Configuration messages
        "Configuração inválida.": "Configuración inválida.",

        # User messages
        "Email e senha são obrigatórios.": "El correo electrónico y la contraseña son obligatorios.",
        "Usuário criado.": "Usuario creado.",
        "Usuário removido.": "Usuario eliminado.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "No se pudo identificar una tabla de forma segura.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Selecciona una tabla en Query Builder (a la derecha) o escribe el SQL manualmente.",
        "Tabela não identificada": "Tabla no identificada",
        "Texto vazio": "Texto vacío",
        "Coluna métrica escolhida por fallback": "Columna de métrica elegida por defecto",
        "Coluna métrica não identificada": "Columna de métrica no identificada",

        # Placeholder texts
        "Ex.: DW Produção": "Ej.: DW Producción",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ej.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "ej: total de ventas por mes",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "slug del tenant (ej.: acme)",
        "nome do tenant": "nombre del tenant",
        "email do admin": "correo del administrador",
        "senha": "contraseña",
        "value": "valor",
        "SELECT ...": "SELECT ...",

    },
    "it": {
        "Accueil": "Home",
        "À propos": "Chi siamo",
        "Expertise": "Competenze",
        "Solutions": "Soluzioni",
        "Pourquoi AUDELA": "Perché AUDELA",
        "Projets": "Progetti",
        "Plans BI": "Piani BI",
        "Área BI": "Area BI",
        "Contact": "Contatto",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Tutti i diritti riservati.",

        # Index / landing
        "La technologie au service de la décision.": "La tecnologia al servizio della decisione.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & IA — al centro delle vostre operazioni.",
        "Illustration AUDELA": "Illustrazione AUDELA",
        "Next": "Avanti",
        "Grenoble & Alpes": "Grenoble & Alpi",
        "Au-delà des données": "Oltre i dati",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Trasformare l'informazione in decisioni — con ingegneria del software robusta e reale comprensione del business.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Costruiamo sistemi che durano: pipeline dati industrializzati, API affidabili, applicazioni web e mobile e dashboard comprensibili da team operativi e direzione.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Il nostro approccio è pragmatico e production-first: sicurezza, performance, osservabilità, documentazione e trasferimento di competenze. Obiettivo: consegnare velocemente, senza debito tecnico.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Analisi dei dati & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestione, modellazione, qualità ed esposizione: indicatori affidabili, tracciabili e azionabili.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Connettiamo i vostri sistemi (ERP, CRM, finanza, operations, API), strutturiamo i dati (DWH/ELT) e consegniamo dashboard che rispondono a domande concrete: margine, performance commerciale, tempi, rischi, conformità.",
        "Voir les écrans Metabase": "Vedi le schermate Metabase",
        "Plateformes métiers": "Piattaforme di business",
        "Plateformes métiers, ERP & IA appliquée": "Piattaforme business, ERP & IA applicata",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Strumenti business che rispecchiano i vostri workflow, con IA utile e spiegabile.",
        "Découvrir BeLegal": "Scopri BeLegal",

        "Portal BI": "Portale BI",
        "Usuário": "Utente",
        "Sair": "Esci",
        "Home": "Home",
        "Fontes": "Fonti",
        "Metadados": "Metadati",
        "Editor SQL": "Editor SQL",
        "Query Builder": "Generatore di query",
        "Perguntas": "Domande",
        "Dashboards": "Dashboard",
        "Execuções": "Esecuzioni",
        "Auditoria": "Audit",
        "Voltar": "Indietro",
        "Cancelar": "Annulla",
        "Salvar": "Salva",
        "Executar": "Esegui",
        "Resultado": "Risultato",
        "Erro": "Errore",
        "Linhas": "Righe",
        "Linhas retornadas": "Righe restituite",
        "Nova pergunta": "Nuova domanda",
        "Nova fonte": "Nuova fonte",
        "Criar": "Crea",
        "Dashboard": "Dashboard",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Nessuna scheda ancora. Crea una dashboard scegliendo le domande.",
        "Exportar PDF": "Esporta PDF",
        "Limpar filtros": "Pulisci filtri",
        "Filtros": "Filtri",
        "Adicionar filtro": "Aggiungi filtro",
        "Visualização": "Visualizzazione",
        "Configurar visualização": "Configura visualizzazione",
        "Prévia": "Anteprima",
        "Tipo": "Tipo",
        "Tabela": "Tabella",
        "Gráfico": "Grafico",
        "Pivot": "Pivot",
        "Gauges": "Indicatori",
        "Drill down": "Dettaglio",
        "Exportar": "Esporta",
        "Gerar SQL": "Genera SQL",
        "Linguagem humana": "Linguaggio naturale",
        "Gerar": "Genera",
        "Tabelas": "Tabelle",
        "Colunas": "Colonne",
        "Executar pergunta": "Esegui domanda",
        "Parâmetros (JSON)": "Parametri (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Usa :nome_param nello SQL e inserisci i valori qui. tenant_id viene applicato automaticamente.",
        "Gerar SQL no editor": "Genera SQL nell'editor",
        "Fonte de dados": "Fonte dati",
        "Estrutura": "Schema",
        "Limite": "Limite",
        "montar SELECT com ajuda da estrutura": "costruire SELECT con l’aiuto dello schema",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Scegli una fonte per vedere tabelle e colonne (autocompletamento).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Esegui query ad-hoc con autocompletamento, generatore di query e linguaggio naturale.",
        "Sem linhas retornadas.": "Nessuna riga restituita.",

        # UI+AI
        "Editar layout": "Modifica layout",
        "Salvar layout": "Salva layout",
        "Cancelar edição": "Annulla modifica",
        "Layout salvo.": "Layout salvato.",
        "Falha ao salvar layout.": "Errore nel salvare il layout.",
        "Modo edição": "Modalità modifica",
        "IA": "IA",
        "Chat IA": "Chat IA",
        "Pergunte sobre os dados": "Chiedi sui dati",
        "Selecione uma pergunta": "Seleziona una domanda",
        "Enviar": "Invia",
        "Mensagem": "Messaggio",
        "Histórico": "Cronologia",
        "Limpar chat": "Pulisci chat",
        "Gerando resposta...": "Generazione risposta...",
        "Análise": "Analisi",
        "Gráficos sugeridos": "Grafici suggeriti",
        "Sugestões de follow-up": "Suggerimenti di follow-up",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Chiave OpenAI mancante. Imposta OPENAI_API_KEY sul server.",
        "Erro ao chamar IA: {error}": "Errore chiamando l'IA: {error}",
        "Tema": "Tema",
        "Claro": "Chiaro",
        "Escuro": "Scuro",
        "Explorar": "Esplora",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Esplora i dati e crea visualizzazioni come Superset/Metabase.",
        "Adicionar card": "Aggiungi scheda",
        "Remover card": "Rimuovi scheda",
        "Buscar pergunta": "Cerca domanda",
        "Digite para filtrar...": "Digita per filtrare...",
        "Você pode refinar depois em Configurar visualização.": "Puoi rifinire dopo in Configura visualizzazione.",
        "Atualizar": "Aggiorna",
        "Salvar visualização": "Salva visualizzazione",
        "Visualização salva.": "Visualizzazione salvata.",
        "Adicionar ao dashboard": "Aggiungi al dashboard",
        "Cria um card no dashboard com esta visualização.": "Crea una scheda nel dashboard con questa visualizzazione.",
        "Card adicionado ao dashboard.": "Scheda aggiunta al dashboard.",
        "Card criado. Recarregando...": "Scheda creata. Ricaricamento...",
        "Criando card...": "Creazione scheda...",
        "Remover card?": "Rimuovere la scheda?",
        "Sem filtros.": "Nessun filtro.",
        "Campo": "Campo",
        "Dimensão": "Dimensione",
        "Métrica": "Metrica",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Clicca sul grafico per filtrare per un valore.",
        "Pivot linhas": "Righe pivot",
        "Pivot colunas": "Colonne pivot",
        "Pivot valor": "Valore pivot",
        "Visuels & cas d’usage : Data, IA, ERP": "Visivi & casi d'uso: Dati, IA, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Uno sguardo ai tipi di soluzioni che progettiamo: cruscotti operativi, automazione e intelligenza applicata.",
        "Data & BI": "Dati & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Cruscotti esecutivi, KPI, governance, qualità e tracciabilità end-to-end.",
        "IA appliquée": "IA applicata",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Rilevamento anomalie, scoring dei rischi, assistenti per il business e analisi predittiva.",
        "ERP & workflows": "ERP & flussi di lavoro",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Flussi di lavoro aziendali, integrazioni di sistema, automazione, controlli e auditabilità.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Gestione pratiche, redditività per caso, generazione documentale, conformità.",
        "Pourquoi AUDELA": "Perché AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Competenza profonda, esecuzione rigorosa e ossessione per la qualità in produzione.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, integrazioni pulite: una base solida per durare e crescere.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Conformità e governance: controlli accessi, tracciabilità e best practice IT.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipeline & qualità: dalla sorgente al cruscotto, senza compromessi sui dati.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, log & alerting: stabilità, performance e rilasci rapidi in produzione.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperabilità: connessione ERP/CRM/strumenti business, sincronizzazione e automazione.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery e handover: definizione, documentazione e upskilling dei vostri team.",
        "Découvrir nos plans BI": "Scopri i nostri piani BI",
        "Parlons de votre projet": "Parliamo del tuo progetto",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Descrivi la tua esigenza (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Ti ricontatteremo rapidamente.",
        "Votre adresse e-mail": "Il tuo indirizzo e-mail",
        "Être rappelé": "Essere ricontattati",
        "Carregando...": "Caricamento...",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Diagramma sorgente",
        "Select data source": "Seleziona sorgente dati",
        "Load diagram": "Carica diagramma",
        "Refresh": "Aggiorna",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Clicca un nodo per evidenziare le relazioni. Usa la rotellina per zoomare.",

        # Auth messages
        "Tenant não encontrado.": "Tenant non trovato.",
        "Credenciais inválidas.": "Credenziali non valide.",
        "Preencha todos os campos.": "Completa tutti i campi.",
        "Slug já existe.": "Lo slug esiste già.",
        "Tenant criado. Faça login.": "Tenant creato. Accedi.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Completa il nome, il tipo e l'URL di connessione.",
        "Fonte criada.": "Fonte dati creata.",
        "Fonte removida.": "Fonte dati rimossa.",
        "Falha ao introspectar: {error}": "Errore di introspezione: {error}",
        "Selecione uma fonte válida.": "Seleziona una fonte dati valida.",
        "Selecione uma fonte.": "Seleziona una fonte dati.",
        "Fonte inválida.": "Fonte dati non valida.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Completa il nome, la fonte e l'SQL.",
        "Pergunta criada.": "Domanda creata.",
        "Pergunta removida.": "Domanda rimossa.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard creato.",
        "Dashboard removido.": "Dashboard rimosso.",
        "Dashboard definido como principal.": "Dashboard impostato come principale.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operazione non supportata: esegui le migrazioni del database per abilitare questa funzione.",
        "Informe um nome.": "Inserisci un nome.",

        # Configuration messages
        "Configuração inválida.": "Configurazione non valida.",

        # User messages
        "Email e senha são obrigatórios.": "Email e password sono obbligatori.",
        "Usuário criado.": "Utente creato.",
        "Usuário removido.": "Utente rimosso.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Impossibile identificare una tabella in modo sicuro.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Seleziona una tabella nel Query Builder (a destra) o scrivi l'SQL manualmente.",
        "Tabela não identificada": "Tabella non identificata",
        "Texto vazio": "Testo vuoto",
        "Coluna métrica escolhida por fallback": "Colonna metrica scelta per default",
        "Coluna métrica não identificada": "Colonna metrica non identificata",

        # Placeholder texts
        "Ex.: DW Produção": "Es.: DW Produzione",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Es.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "es: vendite totali al mese",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "slug del tenant (es.: acme)",
        "nome do tenant": "nome del tenant",
        "email do admin": "email dell'amministratore",
        "senha": "password",
        "value": "valore",
        "SELECT ...": "SELECT ...",

    },
    "de": {
        "Accueil": "Start",
        "À propos": "Über uns",
        "Expertise": "Expertise",
        "Solutions": "Lösungen",
        "Pourquoi AUDELA": "Warum AUDELA",
        "Projets": "Projekte",
        "Plans BI": "BI-Pläne",
        "Área BI": "BI-Bereich",
        "Contact": "Kontakt",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Alle Rechte vorbehalten.",

        # Index / landing
        "La technologie au service de la décision.": "Technologie zur Unterstützung von Entscheidungen.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Daten, BI, ERP, LegalTech & KI — im Zentrum Ihrer Abläufe.",
        "Illustration AUDELA": "AUDELA-Illustration",
        "Next": "Weiter",
        "Grenoble & Alpes": "Grenoble & Alpen",
        "Au-delà des données": "Jenseits der Daten",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Informationen in Entscheidungen verwandeln — mit robuster Softwareentwicklung und echtem Geschäftswissen.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Wir bauen Systeme, die Bestand haben: industrialisierte Datenpipelines, zuverlässige APIs, Web- & Mobile-Apps und Dashboards, die sowohl von operativen Teams als auch von Führungskräften verstanden werden.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Unser Ansatz ist pragmatisch und production-first: Sicherheit, Performance, Observability, Dokumentation und Wissensübergabe. Ziel: schnell liefern, ohne technischen Schuldenberg.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Datenanalyse & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestion, Modellierung, Qualität und Bereitstellung: verlässliche, nachverfolgbare und handlungsfähige Kennzahlen.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Wir verbinden Ihre Systeme (ERP, CRM, Finanzen, Operations, APIs), strukturieren die Daten (DWH/ELT) und liefern Dashboards, die konkrete Fragen beantworten: Marge, Vertriebsperformance, Durchlaufzeiten, Risiken, Compliance.",
        "Voir les écrans Metabase": "Metabase-Bildschirme anzeigen",
        "Plateformes métiers": "Fachliche Plattformen",
        "Plateformes métiers, ERP & IA appliquée": "Fachplattformen, ERP & angewandte KI",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Business-Tools, die Ihre Workflows abbilden, mit nützlicher und erklärbarer KI.",
        "Découvrir BeLegal": "BeLegal entdecken",

        "Portal BI": "BI-Portal",
        "Usuário": "Benutzer",
        "Sair": "Abmelden",
        "Home": "Start",
        "Fontes": "Datenquellen",
        "Metadados": "Metadaten",
        "Editor SQL": "SQL-Editor",
        "Query Builder": "Query Builder",
        "Perguntas": "Fragen",
        "Dashboards": "Dashboards",
        "Execuções": "Ausführungen",
        "Auditoria": "Audit",
        "Voltar": "Zurück",
        "Cancelar": "Abbrechen",
        "Salvar": "Speichern",
        "Executar": "Ausführen",
        "Resultado": "Ergebnis",
        "Erro": "Fehler",
        "Linhas": "Zeilen",
        "Linhas retornadas": "Zurückgegebene Zeilen",
        "Nova pergunta": "Neue Frage",
        "Nova fonte": "Neue Quelle",
        "Criar": "Erstellen",
        "Dashboard": "Dashboard",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Noch keine Karten. Erstellen Sie ein Dashboard, indem Sie Fragen auswählen.",
        "Exportar PDF": "PDF exportieren",
        "Limpar filtros": "Filter löschen",
        "Filtros": "Filter",
        "Adicionar filtro": "Filter hinzufügen",
        "Visualização": "Visualisierung",
        "Configurar visualização": "Visualisierung konfigurieren",
        "Prévia": "Vorschau",
        "Tipo": "Typ",
        "Tabela": "Tabelle",
        "Gráfico": "Diagramm",
        "Pivot": "Pivot",
        "Gauges": "Anzeigen",
        "Drill down": "Drill-down",
        "Exportar": "Exportieren",
        "Gerar SQL": "SQL erzeugen",
        "Linguagem humana": "Natürliche Sprache",
        "Gerar": "Erzeugen",
        "Tabelas": "Tabellen",
        "Colunas": "Spalten",
        "Executar pergunta": "Frage ausführen",
        "Parâmetros (JSON)": "Parameter (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Verwenden Sie :param_name in SQL und tragen Sie hier die Werte ein. tenant_id wird automatisch angewendet.",
        "Gerar SQL no editor": "SQL im Editor erzeugen",
        "Fonte de dados": "Datenquelle",
        "Estrutura": "Schema",
        "Limite": "Limit",
        "montar SELECT com ajuda da estrutura": "SELECT mit Schema-Hilfe erstellen",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Wählen Sie eine Quelle, um Tabellen und Spalten zu sehen (Autovervollständigung).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Führen Sie Ad-hoc-Abfragen mit Autovervollständigung, Query Builder und natürlicher Sprache aus.",
        "Sem linhas retornadas.": "Keine Zeilen zurückgegeben.",

        # UI+AI
        "Editar layout": "Layout bearbeiten",
        "Salvar layout": "Layout speichern",
        "Cancelar edição": "Bearbeitung abbrechen",
        "Layout salvo.": "Layout gespeichert.",
        "Falha ao salvar layout.": "Layout konnte nicht gespeichert werden.",
        "Modo edição": "Bearbeitungsmodus",
        "IA": "KI",
        "Chat IA": "KI-Chat",
        "Pergunte sobre os dados": "Fragen zu den Daten",
        "Selecione uma pergunta": "Wählen Sie eine Frage",
        "Enviar": "Senden",
        "Mensagem": "Nachricht",
        "Histórico": "Verlauf",
        "Limpar chat": "Chat leeren",
        "Gerando resposta...": "Antwort wird erstellt...",
        "Análise": "Analyse",
        "Gráficos sugeridos": "Vorgeschlagene Diagramme",
        "Sugestões de follow-up": "Follow-up-Vorschläge",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "OpenAI-Schlüssel fehlt. Setzen Sie OPENAI_API_KEY auf dem Server.",
        "Erro ao chamar IA: {error}": "KI-Aufruf fehlgeschlagen: {error}",
        "Tema": "Thema",
        "Claro": "Hell",
        "Escuro": "Dunkel",
        "Explorar": "Erkunden",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Erkunden Sie Daten und erstellen Sie Visualisierungen wie in Superset/Metabase.",
        "Adicionar card": "Karte hinzufügen",
        "Remover card": "Karte entfernen",
        "Buscar pergunta": "Frage suchen",
        "Digite para filtrar...": "Zum Filtern tippen...",
        "Você pode refinar depois em Configurar visualização.": "Sie können später unter Visualisierung konfigurieren verfeinern.",
        "Atualizar": "Aktualisieren",
        "Salvar visualização": "Visualisierung speichern",
        "Visualização salva.": "Visualisierung gespeichert.",
        "Adicionar ao dashboard": "Zum Dashboard hinzufügen",
        "Cria um card no dashboard com esta visualização.": "Erstellt eine Karte im Dashboard mit dieser Visualisierung.",
        "Card adicionado ao dashboard.": "Karte zum Dashboard hinzugefügt.",
        "Card criado. Recarregando...": "Karte erstellt. Neu laden...",
        "Criando card...": "Karte wird erstellt...",
        "Remover card?": "Karte entfernen?",
        "Sem filtros.": "Keine Filter.",
        "Campo": "Feld",
        "Dimensão": "Dimension",
        "Métrica": "Metrik",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Klicken Sie auf das Diagramm, um nach einem Wert zu filtern.",
        "Pivot linhas": "Pivot-Zeilen",
        "Pivot colunas": "Pivot-Spalten",
        "Pivot valor": "Pivot-Wert",
        "Visuels & cas d’usage : Data, IA, ERP": "Visualisierungen & Anwendungsfälle: Data, KI, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Ein Einblick in die Arten von Lösungen, die wir entwickeln: operative Dashboards, Automatisierung und angewandte KI.",
        "Data & BI": "Daten & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Operative Dashboards, KPIs, Governance, Qualität und End-to-End-Traceability.",
        "IA appliquée": "Angewandte KI",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Anomalieerkennung, Risiko-Scoring, Business-Assistenten und prädiktive Analytik.",
        "ERP & workflows": "ERP & Workflows",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Business-Workflows, Systemintegrationen, Automatisierung, Kontrollen und Auditierbarkeit.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Fallverwaltung, Mandatsrentabilität, Dokumentengenerierung, Compliance.",
        "Pourquoi AUDELA": "Warum AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Tiefe Expertise, rigorose Umsetzung und Fokus auf Produktionsqualität.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, saubere Integrationen: eine solide Basis für Langlebigkeit und Skalierung.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Compliance und Governance: Zugriffskontrollen, Nachvollziehbarkeit und IT-Best-Practices.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & Qualität: Von der Quelle zum Dashboard ohne Kompromisse bei den Daten.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, Monitoring, Logs & Alerting: Stabilität, Performance und schnelle Deployments.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperabilität: ERP/CRM/Business-Tools-Anbindung, Synchronisierung und Automatisierung.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery & Übergabe: Scoping, Dokumentation und Skill-Transfer an Ihre Teams.",
        "Découvrir nos plans BI": "Entdecken Sie unsere BI-Pläne",
        "Parlons de votre projet": "Sprechen wir über Ihr Projekt",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Beschreiben Sie Ihr Anliegen (Data/BI, ERP, LegalTech, KI, Mobile, IoT). Wir melden uns schnell bei Ihnen.",
        "Votre adresse e-mail": "Ihre E-Mail-Adresse",
        "Être rappelé": "Zurückgerufen werden",
        "Carregando...": "Laden...",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Quellendiagramm",
        "Select data source": "Datenquelle auswählen",
        "Load diagram": "Diagramm laden",
        "Refresh": "Aktualisieren",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Klicken Sie auf einen Knoten, um Beziehungen hervorzuheben. Verwenden Sie das Mausrad zum Zoomen.",

        # Auth messages
        "Tenant não encontrado.": "Mandant nicht gefunden.",
        "Credenciais inválidas.": "Ungültige Anmeldedaten.",
        "Preencha todos os campos.": "Füllen Sie alle Felder aus.",
        "Slug já existe.": "Slug existiert bereits.",
        "Tenant criado. Faça login.": "Mandant erstellt. Bitte melden Sie sich an.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Geben Sie Namen, Typ und Verbindungs-URL ein.",
        "Fonte criada.": "Datenquelle erstellt.",
        "Fonte removida.": "Datenquelle entfernt.",
        "Falha ao introspectar: {error}": "Introspektionsfehler: {error}",
        "Selecione uma fonte válida.": "Wählen Sie eine gültige Datenquelle.",
        "Selecione uma fonte.": "Wählen Sie eine Datenquelle.",
        "Fonte inválida.": "Ungültige Datenquelle.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Geben Sie Namen, Datenquelle und SQL ein.",
        "Pergunta criada.": "Frage erstellt.",
        "Pergunta removida.": "Frage entfernt.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard erstellt.",
        "Dashboard removido.": "Dashboard entfernt.",
        "Dashboard definido como principal.": "Dashboard als primär festgelegt.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Vorgang nicht unterstützt: Führen Sie Datenbankmigrationen durch, um diese Funktion zu aktivieren.",
        "Informe um nome.": "Geben Sie einen Namen ein.",

        # Configuration messages
        "Configuração inválida.": "Ungültige Konfiguration.",

        # User messages
        "Email e senha são obrigatórios.": "E-Mail und Passwort sind erforderlich.",
        "Usuário criado.": "Benutzer erstellt.",
        "Usuário removido.": "Benutzer entfernt.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Tabelle konnte nicht sicher identifiziert werden.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Wählen Sie eine Tabelle im Query Builder (auf der rechten Seite) oder schreiben Sie SQL manuell.",
        "Tabela não identificada": "Tabelle nicht identifiziert",
        "Texto vazio": "Leerer Text",
        "Coluna métrica escolhida por fallback": "Metrik-Spalte als Fallback gewählt",
        "Coluna métrica não identificada": "Metrik-Spalte nicht identifiziert",

        # Placeholder texts
        "Ex.: DW Produção": "Z.B.: DW Produktion",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Z.B.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "z.B.: Gesamtumsatz pro Monat",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "Mandanten-Slug (z.B.: acme)",
        "nome do tenant": "Name des Mandanten",
        "email do admin": "Administrator-E-Mail",
        "senha": "Passwort",
        "value": "Wert",
        "SELECT ...": "SELECT ...",

    },
}


def normalize_lang(code: str | None) -> str:
    if not code:
        return DEFAULT_LANG
    code = (code or "").split("-")[0].lower()
    return code if code in SUPPORTED_LANGS else DEFAULT_LANG


def best_lang_from_accept_language(header: str | None) -> str:
    if not header:
        return DEFAULT_LANG
    # Very small parser: keep the first supported language in the header order.
    parts = [p.strip() for p in header.split(",") if p.strip()]
    for part in parts:
        lang = part.split(";")[0].strip()
        norm = normalize_lang(lang)
        if norm in SUPPORTED_LANGS:
            return norm
    return DEFAULT_LANG


def tr(msgid: str, lang: str | None = None, **kwargs: Any) -> str:
    """Translate msgid using the configured dictionary.

    kwargs can be used for basic string formatting, e.g. tr('Hello {name}', name='Rodrigo')
    """
    lang = normalize_lang(lang)
    if lang == DEFAULT_LANG:
        out = msgid
    else:
        out = TRANSLATIONS.get(lang, {}).get(msgid, msgid)
    try:
        return out.format(**kwargs)
    except Exception:
        return out
