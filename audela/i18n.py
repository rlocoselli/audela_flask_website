"""Very small i18n layer (no external build step).

This project is a Flask website and a lightweight BI portal.

We intentionally keep i18n *self-contained* (dictionary-based) to avoid introducing
extra build steps (.po/.mo compilation) and to make deployment simpler.

Usage:
- In Jinja templates: {{ _('Some text') }}
- In Python: tr('Some text', lang)
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any


DEFAULT_LANG = "pt"


@dataclass(frozen=True)
class LangInfo:
    code: str
    label: str


SUPPORTED_LANGS: dict[str, LangInfo] = {
    "pt": LangInfo("pt", "Português"),
    "en": LangInfo("en", "English"),
    "fr": LangInfo("fr", "Français"),
    "es": LangInfo("es", "Español"),
    "it": LangInfo("it", "Italiano"),
    "de": LangInfo("de", "Deutsch"),
}


# msgid -> translation
TRANSLATIONS: dict[str, dict[str, str]] = {
    "pt": {
        # Nota: As chaves em português já são os msgid, então este dicionário é principalmente
        # para referência e consistência. A função tr() retorna a chave quando lang==DEFAULT_LANG

        # Auth messages
        "Tenant não encontrado.": "Tenant não encontrado.",
        "Credenciais inválidas.": "Credenciais inválidas.",
        "Preencha todos os campos.": "Preencha todos os campos.",
        "Slug já existe.": "Slug já existe.",
        "Tenant criado. Faça login.": "Tenant criado. Faça login.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Preencha nome, tipo e URL de conexão.",
        "Fonte criada.": "Fonte criada.",
        "Fonte removida.": "Fonte removida.",
        "Falha ao introspectar: {error}": "Falha ao introspectar: {error}",
        "Selecione uma fonte válida.": "Selecione uma fonte válida.",
        "Selecione uma fonte.": "Selecione uma fonte.",
        "Fonte inválida.": "Fonte inválida.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Preencha nome, fonte e SQL.",
        "Pergunta criada.": "Pergunta criada.",
        "Pergunta removida.": "Pergunta removida.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard criado.",
        "Dashboard removido.": "Dashboard removido.",
        "Dashboard definido como principal.": "Dashboard definido como principal.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operação não suportada: execute as migrações do banco para habilitar essa função.",
        "Informe um nome.": "Informe um nome.",

        # Configuration messages
        "Configuração inválida.": "Configuração inválida.",

        # User messages
        "Email e senha são obrigatórios.": "Email e senha são obrigatórios.",
        "Usuário criado.": "Usuário criado.",
        "Usuário removido.": "Usuário removido.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Não foi possível identificar uma tabela com segurança.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.",
        "Tabela não identificada": "Tabela não identificada",
        "Texto vazio": "Texto vazio",
        "Coluna métrica escolhida por fallback": "Coluna métrica escolhida por fallback",
        "Coluna métrica não identificada": "Coluna métrica não identificada",

        # Home page
        "O que já está no MVP": "O que já está no MVP",
        "Fontes por tenant (cadastro + introspecção)": "Fontes por tenant (cadastro + introspecção)",
        "Editor SQL (execução ad-hoc com limites)": "Editor SQL (execução ad-hoc com limites)",
        "Perguntas (queries salvas) + execução": "Perguntas (queries salvas) + execução",
        "Dashboards (cards simples com perguntas)": "Dashboards (cards simples com perguntas)",
        "Auditoria + Query Runs por tenant": "Auditoria + Query Runs por tenant",
        "Começar": "Começar",
        "Crie uma fonte em Fontes → Nova": "Crie uma fonte em Fontes → Nova",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Introspecte metadados na fonte (botão 'Introspectar')",
        "Teste uma consulta no Editor SQL": "Teste uma consulta no Editor SQL",
        "Salve uma Pergunta e crie um Dashboard": "Salve uma Pergunta e crie um Dashboard",
        "cadastro + introspecção": "cadastro + introspecção",
        "execução ad-hoc com limites": "execução ad-hoc com limites",
        "queries salvas": "queries salvas",
        "cards simples com perguntas": "cards simples com perguntas",
        "por tenant": "por tenant",
        "Nova": "Nova",
        "e crie um": "e crie um",

        # Placeholder texts
        "Ex.: DW Produção": "Ex.: DW Produção",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ex.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "ex: total vendas por mês",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "tenant slug (ex.: acme)",
        "nome do tenant": "nome do tenant",
        "email do admin": "email do admin",
        "senha": "senha",
        "value": "value",
        "SELECT ...": "SELECT ...",

        # AI service prompts
        "You are a BI analyst": "Você é um analista de BI",
        "You receive metadata and data sample": "Você recebe metadados e uma amostra de dados (colunas/linhas) de uma pergunta SQL",
        "Respond with clear insights": "Responda com insights claros, hipóteses, limitações, e sugira gráficos",
        "Your output MUST be valid JSON": "Sua saída DEVE ser um JSON válido (sem markdown, sem blocos de código) com estas chaves",
        "analysis key": "analysis: string (markdown simples permitido, mas sem HTML)",
        "charts key": "charts: lista de objetos {title: string, echarts_option: object}",
        "followups key": "followups: lista de strings",
        "Use only the provided sample": "Use apenas a amostra e o perfil fornecidos; se faltar algo, diga explicitamente",
        "For charts generate safe ECharts": "Para charts, gere opções ECharts seguras, sem funções JS",
        "If insufficient data return empty": "Se não houver dados suficientes, retorne charts=[] e explique no analysis",


        # Auto-added i18n keys
        "Relatórios": "Relatórios",
        "Novo relatório": "Novo relatório",
        "Construa relatórios com drag & drop (estilo Crystal Reports).": "Construa relatórios com arraste e solte (estilo Crystal Reports).",
        "Nenhum relatório criado ainda.": "Nenhum relatório criado ainda.",
        "Abrir builder": "Abrir builder",
        "Arraste e solte": "Arraste e solte",
        "Cabeçalho": "Cabeçalho",
        "Corpo": "Corpo",
        "Rodapé": "Rodapé",
        "Editar": "Editar",
        "Remover": "Remover",
        "Título do bloco:": "Título do bloco:",
        "Pergunta salva": "Pergunta salva",
        "Falha ao salvar": "Falha ao salvar",
        "Arraste aqui...": "Arraste aqui...",
        "Salvo": "Salvo",
        "Pergunta #{n}": "Pergunta #{n}",
        "Imagem": "Imagem",
        "Figura / logotipo / screenshot": "Figura / logotipo / screenshot",
        "Adicionar imagem": "Adicionar imagem",
        "URL (https://...)": "URL (https://...)",
        "Isso cria um bloco “Imagem” no corpo do relatório.": "Isso cria um bloco “Imagem” no corpo do relatório.",
        "URL da imagem:": "URL da imagem:",
        "Texto alternativo (alt):": "Texto alternativo (alt):",
        "Legenda (opcional):": "Legenda (opcional):",
        "Largura (ex.: 300px ou 50%):": "Largura (ex.: 300px ou 50%):",
        "Alinhamento (left/center/right):": "Alinhamento (left/center/right):",
        "Cor do texto (ex.: #111 ou vazio):": "Cor do texto (ex.: #111 ou vazio):",
        "Cor de fundo (ex.: #fff ou vazio):": "Cor de fundo (ex.: #fff ou vazio):",
        "Imagem não disponível": "Imagem não disponível",
        "Texto (Markdown):": "Texto (Markdown):",
        "Texto:": "Texto:",
        "Bloco": "Bloco",
        "Sem linhas retornadas.": "Sem linhas retornadas.",
        "Erro ao executar pergunta: {error}": "Erro ao executar pergunta: {error}",
        "Editar bloco": "Editar bloco",
        "Título": "Título",
        "URL da imagem": "URL da imagem",
        "https://...": "https://...",
        "Texto alternativo (alt)": "Texto alternativo (alt)",
        "Largura": "Largura",
        "ex.: 300px ou 50%": "ex.: 300px ou 50%",
        "Pré-visualização": "Pré-visualização",
        "Estilo": "Estilo",
        "Cor do texto": "Cor do texto",
        "Cor de fundo": "Cor de fundo",
        "Sem": "Sem",
        "hex ou vazio": "hex ou vazio",
        "Aplicar": "Aplicar",
        "Esquerda": "Esquerda",
        "Centro": "Centro",
        "Direita": "Direita",
        "Padrão": "Padrão",
    },
    "en": {
        "Accueil": "Home",
        "À propos": "About",
        "Expertise": "Expertise",
        "Solutions": "Solutions",
        "Pourquoi AUDELA": "Why AUDELA",
        "Projets": "Projects",
        "Plans BI": "BI Plans",
        "Área BI": "BI Area",
        "Contact": "Contact",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "All rights reserved.",

        # Index / landing
        "La technologie au service de la décision.": "Technology powering better decisions.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & AI — at the heart of your operations.",
        "Illustration AUDELA": "AUDELA illustration",
        "Next": "Next",
        "Grenoble & Alpes": "Grenoble & Alps",
        "Au-delà des données": "Beyond data",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Turn information into decisions — with robust software engineering and real business understanding.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "We build systems that last: industrialized data pipelines, reliable APIs, web & mobile apps, and dashboards understandable by both field teams and executives.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Our approach is pragmatic and production-first: security, performance, observability, documentation, and knowledge transfer. Goal: deliver fast, without technical debt.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Data analysis & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestion, modeling, quality and exposure: reliable, traceable and actionable indicators.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "We connect your systems (ERP, CRM, finance, operations, APIs), structure data (DWH/ELT), and deliver dashboards that answer concrete questions: margin, sales performance, lead times, risks, compliance.",
        "Voir les écrans Metabase": "See Metabase screens",
        "Plateformes métiers": "Business platforms",
        "Plateformes métiers, ERP & IA appliquée": "Business platforms, ERP & Applied AI",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Business tools that reflect your workflows, with useful and explainable AI.",
        "Découvrir BeLegal": "Discover BeLegal",

        # Portal
        "Portal BI": "BI Portal",
        "Usuário": "User",
        "Sair": "Logout",
        "Home": "Home",
        "Fontes": "Data sources",
        "Metadados": "Metadata",
        "Editor SQL": "SQL Editor",
        "Query Builder": "Query Builder",
        "Perguntas": "Questions",
        "Dashboards": "Dashboards",
        "Execuções": "Runs",
        "Auditoria": "Audit",
        "Voltar": "Back",
        "Cancelar": "Cancel",
        "Salvar": "Save",
        "Executar": "Run",
        "Resultado": "Result",
        "Erro": "Error",
        "Linhas": "Rows",
        "Linhas retornadas": "Returned rows",
        "Nova pergunta": "New question",
        "Nova fonte": "New data source",
        "Criar": "Create",
        "Dashboard": "Dashboard",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "No cards yet. Create a dashboard by selecting questions.",
        "Exportar PDF": "Export PDF",
        "Limpar filtros": "Clear filters",
        "Filtros": "Filters",
        "Adicionar filtro": "Add filter",
        "Visualização": "Visualization",
        "Configurar visualização": "Configure visualization",
        "Prévia": "Preview",
        "Tipo": "Type",
        "Tabela": "Table",
        "Gráfico": "Chart",
        "Pivot": "Pivot",
        "Gauges": "Gauges",
        "Drill down": "Drill down",
        "Exportar": "Export",
        "Gerar SQL": "Generate SQL",
        "Linguagem humana": "Natural language",
        "Gerar": "Generate",
        "Tabelas": "Tables",
        "Colunas": "Columns",
        "Executar pergunta": "Run question",
        "Parâmetros (JSON)": "Parameters (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Use :param_name in SQL and fill values here. tenant_id is applied automatically.",
        "Gerar SQL no editor": "Generate SQL in editor",
        "Fonte de dados": "Data source",
        "Estrutura": "Schema",
        "Limite": "Limit",
        "montar SELECT com ajuda da estrutura": "build SELECT with schema help",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Choose a source to see tables and columns (autocomplete).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Run ad-hoc queries with autocomplete, a query builder, and natural language.",
        "Sem linhas retornadas.": "No rows returned.",

        # UI+AI
        "Editar layout": "Edit layout",
        "Salvar layout": "Save layout",
        "Cancelar edição": "Cancel edit",
        "Layout salvo.": "Layout saved.",
        "Falha ao salvar layout.": "Failed to save layout.",
        "Modo edição": "Edit mode",
        "IA": "AI",
        "Chat IA": "AI chat",
        "Pergunte sobre os dados": "Ask about the data",
        "Selecione uma pergunta": "Select a question",
        "Enviar": "Send",
        "Mensagem": "Message",
        "Histórico": "History",
        "Limpar chat": "Clear chat",
        "Gerando resposta...": "Generating response...",
        "Análise": "Analysis",
        "Gráficos sugeridos": "Suggested charts",
        "Sugestões de follow-up": "Follow-up suggestions",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Missing OpenAI key. Set OPENAI_API_KEY on the server.",
        "Erro ao chamar IA: {error}": "AI call failed: {error}",
        "Tema": "Theme",
        "Claro": "Light",
        "Escuro": "Dark",
        "Explorar": "Explore",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Explore data and create visualizations like Superset/Metabase.",
        "Adicionar card": "Add card",
        "Remover card": "Remove card",
        "Buscar pergunta": "Search question",
        "Digite para filtrar...": "Type to filter...",
        "Você pode refinar depois em Configurar visualização.": "You can refine later in Configure visualization.",
        "Atualizar": "Refresh",
        "Salvar visualização": "Save visualization",
        "Visualização salva.": "Visualization saved.",
        "Adicionar ao dashboard": "Add to dashboard",
        "Cria um card no dashboard com esta visualização.": "Creates a dashboard card with this visualization.",
        "Card adicionado ao dashboard.": "Card added to dashboard.",
        "Card criado. Recarregando...": "Card created. Reloading...",
        "Criando card...": "Creating card...",
        "Remover card?": "Remove card?",
        "Sem filtros.": "No filters.",
        "Campo": "Field",
        "Dimensão": "Dimension",
        "Métrica": "Metric",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Click the chart to filter by a value.",
        "Pivot linhas": "Pivot rows",
        "Pivot colunas": "Pivot columns",
        "Pivot valor": "Pivot value",
        "Carregando...": "Loading...",
        "Visuels & cas d’usage : Data, IA, ERP": "Visuals & use cases: Data, AI, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "A glimpse of the types of solutions we design: operational dashboards, automation and applied intelligence.",
        "Data & BI": "Data & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Executive dashboards, KPIs, governance, quality and end-to-end traceability.",
        "IA appliquée": "Applied AI",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Anomaly detection, risk scoring, business assistants and predictive analytics.",
        "ERP & workflows": "ERP & workflows",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Business workflows, system integrations, automation, controls and auditability.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Case management, matter-level profitability, document generation, compliance.",
        "Pourquoi AUDELA": "Why AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Deep expertise, rigorous execution, and an obsession with production quality.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, clean integrations: a solid foundation to last and scale.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Compliance and governance: access controls, traceability, and IT best practices.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & quality: from source to dashboard, without compromising data.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, logs & alerting: stability, performance and fast production deployments.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperability: ERP/CRM/business tools connectivity, synchronization and automation.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery and handover: scoping, documentation and upskilling your teams.",
        "Découvrir nos plans BI": "Discover our BI plans",
        "Default": "Default",
        "Aurora": "Aurora",
        "Nimbus": "Nimbus",
        "Onyx": "Onyx",
        "Select data source": "Select data source",
        "Load diagram": "Load diagram",
        "Refresh": "Refresh",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Click a node to highlight relations. Use mousewheel to zoom.",
        "Parlons de votre projet": "Let's talk about your project",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Describe your need (Data/BI, ERP, LegalTech, AI, Mobile, IoT). We'll get back to you quickly.",
        "Votre adresse e-mail": "Your email address",
        "Être rappelé": "Be contacted",
        "OK": "OK",
            # Source diagram module
            "Source Diagram": "Source Diagram",
            "Select data source": "Select data source",
            "Load diagram": "Load diagram",
            "Refresh": "Refresh",
            "Click a node to highlight relations. Use mousewheel to zoom.": "Click a node to highlight relations. Use mousewheel to zoom.",

            # Home page
            "O que já está no MVP": "What's already in the MVP",
            "Fontes por tenant (cadastro + introspecção)": "Data sources per tenant (registration + introspection)",
            "Editor SQL (execução ad-hoc com limites)": "SQL Editor (ad-hoc execution with limits)",
            "Perguntas (queries salvas) + execução": "Questions (saved queries) + execution",
            "Dashboards (cards simples com perguntas)": "Dashboards (simple cards with questions)",
            "Auditoria + Query Runs por tenant": "Audit + Query Runs per tenant",
            "Começar": "Getting Started",
            "Crie uma fonte em Fontes → Nova": "Create a data source in Sources → New",
            "Introspecte metadados na fonte (botão 'Introspectar')": "Introspect metadata on the source (\"Introspect\" button)",
            "Teste uma consulta no Editor SQL": "Test a query in SQL Editor",
            "Salve uma Pergunta e crie um Dashboard": "Save a Question and create a Dashboard",
            "cadastro + introspecção": "registration + introspection",
            "execução ad-hoc com limites": "ad-hoc execution with limits",
            "queries salvas": "saved queries",
            "cards simples com perguntas": "simple cards with questions",
            "por tenant": "per tenant",
            "Nova": "New",
            "e crie um": "and create a",

            # Auth messages
            "Tenant não encontrado.": "Tenant not found.",
            "Credenciais inválidas.": "Invalid credentials.",
            "Preencha todos os campos.": "Fill in all fields.",
            "Slug já existe.": "Slug already exists.",
            "Tenant criado. Faça login.": "Tenant created. Please log in.",

            # Data source messages
            "Preencha nome, tipo e URL de conexão.": "Fill in name, type, and connection URL.",
            "Fonte criada.": "Data source created.",
            "Fonte removida.": "Data source removed.",
            "Falha ao introspectar: {error}": "Introspection failed: {error}",
            "Selecione uma fonte válida.": "Select a valid data source.",
            "Selecione uma fonte.": "Select a data source.",
            "Fonte inválida.": "Invalid data source.",

            # Question messages
            "Preencha nome, fonte e SQL.": "Fill in name, data source, and SQL.",
            "Pergunta criada.": "Question created.",
            "Pergunta removida.": "Question removed.",

            # Dashboard messages
            "Dashboard criado.": "Dashboard created.",
            "Dashboard removido.": "Dashboard removed.",
            "Dashboard definido como principal.": "Dashboard set as primary.",
            "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operation not supported: run database migrations to enable this feature.",
            "Informe um nome.": "Enter a name.",

            # Configuration messages
            "Configuração inválida.": "Invalid configuration.",

            # User messages
            "Email e senha são obrigatórios.": "Email and password are required.",
            "Usuário criado.": "User created.",
            "Usuário removido.": "User removed.",

            # NLQ service messages
            "Não foi possível identificar uma tabela com segurança.": "Could not safely identify a table.",
            "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Select a table in Query Builder (on the right) or write SQL manually.",
            "Tabela não identificada": "Table not identified",
            "Texto vazio": "Empty text",
            "Coluna métrica escolhida por fallback": "Metric column chosen by fallback",
            "Coluna métrica não identificada": "Metric column not identified",

            # Home page
            "O que já está no MVP": "What's already in the MVP",
            "Fontes por tenant (cadastro + introspecção)": "Data sources per tenant (registration + introspection)",
            "Editor SQL (execução ad-hoc com limites)": "SQL Editor (ad-hoc execution with limits)",
            "Perguntas (queries salvas) + execução": "Questions (saved queries) + execution",
            "Dashboards (cards simples com perguntas)": "Dashboards (simple cards with questions)",
            "Auditoria + Query Runs por tenant": "Audit + Query Runs per tenant",
            "Começar": "Getting Started",
            "Crie uma fonte em Fontes → Nova": "Create a data source in Sources → New",
            "Introspecte metadados na fonte (botão 'Introspectar')": "Introspect metadata on the source (\"Introspect\" button)",
            "Teste uma consulta no Editor SQL": "Test a query in SQL Editor",
            "Salve uma Pergunta e crie um Dashboard": "Save a Question and create a Dashboard",
            "cadastro + introspecção": "registration + introspection",
            "execução ad-hoc com limites": "ad-hoc execution with limits",
            "queries salvas": "saved queries",
            "cards simples com perguntas": "simple cards with questions",
            "por tenant": "per tenant",
            "Nova": "New",
            "e crie um": "and create a",

            # Placeholder texts
            "Ex.: DW Produção": "Ex.: DW Production",
            "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ex.: postgresql+psycopg://user:pass@host:5432/dbname",
            "public": "public",
            "tenant_id": "tenant_id",
            "ex: total vendas por mês": "ex: total sales per month",
            "acme": "acme",
            "you@example.com": "you@example.com",
            "tenant slug (ex.: acme)": "tenant slug (ex.: acme)",
            "nome do tenant": "tenant name",
            "email do admin": "admin email",
            "senha": "password",
            "value": "value",
            "SELECT ...": "SELECT ...",

            # AI service prompts
            "You are a BI analyst": "You are a BI analyst",
            "You receive metadata and data sample": "You receive metadata and a data sample (columns/rows) from a SQL question",
            "Respond with clear insights": "Respond with clear insights, hypotheses, limitations, and suggest charts",
            "Your output MUST be valid JSON": "Your output MUST be valid JSON (no markdown, no code blocks) with these keys",
            "analysis key": "analysis: string (simple markdown allowed, but no HTML)",
            "charts key": "charts: list of objects {title: string, echarts_option: object}",
            "followups key": "followups: list of strings",
            "Use only the provided sample": "Use only the provided sample and profile; if something is missing, say so explicitly",
            "For charts generate safe ECharts": "For charts, generate safe ECharts options, without JS functions",
            "If insufficient data return empty": "If there is insufficient data, return charts=[] and explain in the analysis",



        # Auto-added i18n keys
        "Info": "Info",
        "Fechar": "Close",
        "Sucesso": "Success",

        "Relatórios": "Reports",
        "Novo relatório": "New report",
        "Construa relatórios com drag & drop (estilo Crystal Reports).": "Build reports with drag & drop (Crystal Reports style).",
        "Nenhum relatório criado ainda.": "No reports created yet.",
        "Abrir builder": "Open builder",
        "Arraste e solte": "Drag & drop",
        "Cabeçalho": "Header",
        "Corpo": "Body",
        "Rodapé": "Footer",
        "Editar": "Edit",
        "Remover": "Remove",
        "Título do bloco:": "Block title:",
        "Pergunta salva": "Saved question",
        "Falha ao salvar": "Save failed",
        "Arraste aqui...": "Drop here...",
        "Salvo": "Saved",
        "Pergunta #{n}": "Question #{n}",
        "Imagem": "Image",
        "Figura / logotipo / screenshot": "Figure / logo / screenshot",
        "Adicionar imagem": "Add image",
        "URL (https://...)": "URL (https://...)",
        "Isso cria um bloco “Imagem” no corpo do relatório.": "This creates an “Image” block in the report body.",
        "URL da imagem:": "Image URL:",
        "Texto alternativo (alt):": "Alt text:",
        "Legenda (opcional):": "Caption (optional):",
        "Largura (ex.: 300px ou 50%):": "Width (e.g., 300px or 50%):",
        "Alinhamento (left/center/right):": "Alignment (left/center/right):",
        "Cor do texto (ex.: #111 ou vazio):": "Text color (e.g., #111 or empty):",
        "Cor de fundo (ex.: #fff ou vazio):": "Background color (e.g., #fff or empty):",
        "Imagem não disponível": "Image not available",
        "Texto (Markdown):": "Text (Markdown):",
        "Texto:": "Text:",
        "Bloco": "Block",
        "Erro ao executar pergunta: {error}": "Failed to run question: {error}",
        "Editar bloco": "Edit block",
        "Título": "Title",
        "URL da imagem": "Image URL",
        "https://...": "https://...",
        "Texto alternativo (alt)": "Alt text (alt)",
        "Largura": "Width",
        "ex.: 300px ou 50%": "e.g., 300px or 50%",
        "Pré-visualização": "Preview",
        "Estilo": "Style",
        "Cor do texto": "Text color",
        "Cor de fundo": "Background color",
        "Sem": "None",
        "hex ou vazio": "hex or empty",
        "Aplicar": "Apply",
        "Esquerda": "Left",
        "Centro": "Center",
        "Direita": "Right",
        "Padrão": "Default",
    },
    "fr": {
        # Public
        "Accueil": "Accueil",
        "À propos": "À propos",
        "Expertise": "Expertise",
        "Solutions": "Solutions",
        "Pourquoi AUDELA": "Pourquoi AUDELA",
        "Projets": "Projets",
        "Plans BI": "Plans BI",
        "Área BI": "Espace BI",
        "Contact": "Contact",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Tous droits réservés.",

        # Index / landing
        "La technologie au service de la décision.": "La technologie au service de la décision.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.",
        "Illustration AUDELA": "Illustration AUDELA",
        "Next": "Suivant",
        "Grenoble & Alpes": "Grenoble & Alpes",
        "Au-delà des données": "Au-delà des données",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Analyse de données & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.",
        "Voir les écrans Metabase": "Voir les écrans Metabase",
        "Plateformes métiers": "Plateformes métiers",
        "Plateformes métiers, ERP & IA appliquée": "Plateformes métiers, ERP & IA appliquée",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.",
        "Découvrir BeLegal": "Découvrir BeLegal",

        # Home page
        "O que já está no MVP": "Ce qui est déjà dans le MVP",
        "Fontes por tenant (cadastro + introspecção)": "Sources de données par locataire (enregistrement + introspection)",
        "Editor SQL (execução ad-hoc com limites)": "Éditeur SQL (exécution ad-hoc avec limites)",
        "Perguntas (queries salvas) + execução": "Questions (requêtes enregistrées) + exécution",
        "Dashboards (cards simples com perguntas)": "Tableaux de bord (cartes simples avec questions)",
        "Auditoria + Query Runs por tenant": "Audit + Exécutions de requêtes par locataire",
        "Começar": "Commencer",
        "Crie uma fonte em Fontes → Nova": "Créez une source de données dans Sources → Nouvelle",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Introspectez les métadonnées sur la source (bouton \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Testez une requête dans l'Éditeur SQL",
        "Salve uma Pergunta e crie um Dashboard": "Enregistrez une Question et créez un Tableau de bord",
        "cadastro + introspecção": "enregistrement + introspection",
        "execução ad-hoc com limites": "exécution ad-hoc avec limites",
        "queries salvas": "requêtes enregistrées",
        "cards simples com perguntas": "cartes simples avec questions",
        "por tenant": "par locataire",
        "Nova": "Nouvelle",
        "e crie um": "et créez un",

        # Portal
        "Portal BI": "Portail BI",
        "Usuário": "Utilisateur",
        "Sair": "Déconnexion",
        "Home": "Accueil",
        "Fontes": "Sources",
        "Metadados": "Métadonnées",
        "Editor SQL": "Éditeur SQL",
        "Query Builder": "Constructeur de requêtes",
        "Perguntas": "Questions",
        "Dashboards": "Tableaux de bord",
        "Execuções": "Exécutions",
        "Auditoria": "Audit",
        "Voltar": "Retour",
        "Cancelar": "Annuler",
        "Salvar": "Enregistrer",
        "Executar": "Exécuter",
        "Resultado": "Résultat",
        "Erro": "Erreur",
        "Linhas": "Lignes",
        "Linhas retornadas": "Lignes retournées",
        "Nova pergunta": "Nouvelle question",
        "Nova fonte": "Nouvelle source",
        "Criar": "Créer",
        "Dashboard": "Tableau de bord",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Aucune carte pour le moment. Créez un tableau de bord en choisissant des questions.",
        "Exportar PDF": "Exporter en PDF",
        "Limpar filtros": "Effacer les filtres",
        "Filtros": "Filtres",
        "Adicionar filtro": "Ajouter un filtre",
        "Visualização": "Visualisation",
        "Configurar visualização": "Configurer la visualisation",
        "Prévia": "Aperçu",
        "Tipo": "Type",
        "Tabela": "Table",
        "Gráfico": "Graphique",
        "Pivot": "Pivot",
        "Gauges": "Jauges",
        "Drill down": "Exploration",
        "Exportar": "Exporter",
        "Gerar SQL": "Générer SQL",
        "Linguagem humana": "Langage naturel",
        "Gerar": "Générer",
        "Tabelas": "Tables",
        "Colunas": "Colonnes",
        "Executar pergunta": "Exécuter la question",
        "Parâmetros (JSON)": "Paramètres (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Utilisez :nom_param dans le SQL et renseignez les valeurs ici. tenant_id est appliqué automatiquement.",
        "Gerar SQL no editor": "Générer SQL dans l’éditeur",
        "Fonte de dados": "Source de données",
        "Estrutura": "Schéma",
        "Limite": "Limite",
        "montar SELECT com ajuda da estrutura": "construire un SELECT avec l’aide du schéma",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Choisissez une source pour voir tables et colonnes (autocomplétion).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Exécutez des requêtes ad hoc avec autocomplétion, constructeur de requêtes et langage naturel.",
        "Sem linhas retornadas.": "Aucune ligne retournée.",

        # UI+AI
        "Editar layout": "Éditer la mise en page",
        "Salvar layout": "Enregistrer la mise en page",
        "Cancelar edição": "Annuler l’édition",
        "Layout salvo.": "Mise en page enregistrée.",
        "Falha ao salvar layout.": "Échec de l’enregistrement de la mise en page.",
        "Modo edição": "Mode édition",
        "IA": "IA",
        "Chat IA": "Chat IA",
        "Pergunte sobre os dados": "Interroger les données",
        "Selecione uma pergunta": "Sélectionnez une question",
        "Enviar": "Envoyer",
        "Mensagem": "Message",
        "Histórico": "Historique",
        "Limpar chat": "Effacer le chat",
        "Gerando resposta...": "Génération de la réponse…",
        "Análise": "Analyse",
        "Gráficos sugeridos": "Graphiques suggérés",
        "Sugestões de follow-up": "Suggestions de suivi",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Clé OpenAI manquante. Définissez OPENAI_API_KEY sur le serveur.",
        "Erro ao chamar IA: {error}": "Erreur d’appel IA : {error}",
        "Tema": "Thème",
        "Claro": "Clair",
        "Escuro": "Sombre",
        "Explorar": "Explorer",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Explorez les données et créez des visualisations comme Superset/Metabase.",
        "Adicionar card": "Ajouter une carte",
        "Remover card": "Supprimer la carte",
        "Buscar pergunta": "Rechercher une question",
        "Digite para filtrar...": "Tapez pour filtrer…",
        "Você pode refinar depois em Configurar visualização.": "Vous pourrez affiner ensuite dans Configurer la visualisation.",
        "Atualizar": "Actualiser",
        "Salvar visualização": "Enregistrer la visualisation",
        "Visualização salva.": "Visualisation enregistrée.",
        "Adicionar ao dashboard": "Ajouter au dashboard",
        "Cria um card no dashboard com esta visualização.": "Crée une carte dans le dashboard avec cette visualisation.",
        "Card adicionado ao dashboard.": "Carte ajoutée au dashboard.",
        "Card criado. Recarregando...": "Carte créée. Rechargement…",
        "Criando card...": "Création de la carte…",
        "Remover card?": "Supprimer la carte ?",
        "Sem filtros.": "Aucun filtre.",
        "Campo": "Champ",
        "Dimensão": "Dimension",
        "Métrica": "Mesure",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Cliquez sur le graphique pour filtrer par une valeur.",
        "Pivot linhas": "Lignes pivot",
        "Pivot colunas": "Colonnes pivot",
        "Pivot valor": "Valeur pivot",
        "Visuels & cas d’usage : Data, IA, ERP": "Visuels & cas d’usage : Data, IA, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.",
        "Data & BI": "Data & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.",
        "IA appliquée": "IA appliquée",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.",
        "ERP & workflows": "ERP & workflows",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.",
        "Pourquoi AUDELA": "Pourquoi AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.",
        "Découvrir nos plans BI": "Découvrir nos plans BI",
        "Parlons de votre projet": "Parlons de votre projet",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.",
        "Votre adresse e-mail": "Votre adresse e-mail",
        "Être rappelé": "Être rappelé",
        "Carregando...": "Chargement…",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Diagramme source",
        "Select data source": "Sélectionnez la source de données",
        "Load diagram": "Charger le diagramme",
        "Refresh": "Rafraîchir",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Cliquez sur un nœud pour mettre en évidence les relations. Utilisez la molette pour zoomer.",

        # Auth messages
        "Tenant não encontrado.": "Tenant non trouvé.",
        "Credenciais inválidas.": "Identifiants invalides.",
        "Preencha todos os campos.": "Veuillez remplir tous les champs.",
        "Slug já existe.": "Le slug existe déjà.",
        "Tenant criado. Faça login.": "Tenant créé. Veuillez vous connecter.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Veuillez remplir le nom, le type et l'URL de connexion.",
        "Fonte criada.": "Source de données créée.",
        "Fonte removida.": "Source de données supprimée.",
        "Falha ao introspectar: {error}": "Introspection échouée : {error}",
        "Selecione uma fonte válida.": "Sélectionnez une source de données valide.",
        "Selecione uma fonte.": "Sélectionnez une source de données.",
        "Fonte inválida.": "Source de données invalide.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Veuillez remplir le nom, la source et le SQL.",
        "Pergunta criada.": "Question créée.",
        "Pergunta removida.": "Question supprimée.",

        # Dashboard messages
        "Dashboard criado.": "Tableau de bord créé.",
        "Dashboard removido.": "Tableau de bord supprimé.",
        "Dashboard definido como principal.": "Tableau de bord défini comme principal.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Opération non supportée : exécutez les migrations de la base de données pour activer cette fonction.",
        "Informe um nome.": "Veuillez entrer un nom.",

        # Configuration messages
        "Configuração inválida.": "Configuration invalide.",

        # User messages
        "Email e senha são obrigatórios.": "L'e-mail et le mot de passe sont obligatoires.",
        "Usuário criado.": "Utilisateur créé.",
        "Usuário removido.": "Utilisateur supprimé.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Impossible d'identifier une table en toute sécurité.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Sélectionnez une table dans le Constructeur de requêtes (à droite) ou écrivez le SQL manuellement.",
        "Tabela não identificada": "Table non identifiée",
        "Texto vazio": "Texte vide",
        "Coluna métrica escolhida por fallback": "Colonne de métrique choisie par défaut",
        "Coluna métrica não identificada": "Colonne de métrique non identifiée",

        # Home page
        "O que já está no MVP": "Ce qui est déjà dans le MVP",
        "Fontes por tenant (cadastro + introspecção)": "Sources de données par locataire (enregistrement + introspection)",
        "Editor SQL (execução ad-hoc com limites)": "Éditeur SQL (exécution ad-hoc avec limites)",
        "Perguntas (queries salvas) + execução": "Questions (requêtes enregistrées) + exécution",
        "Dashboards (cards simples com perguntas)": "Tableaux de bord (cartes simples avec questions)",
        "Auditoria + Query Runs por tenant": "Audit + Exécutions de requêtes par locataire",
        "Começar": "Commencer",
        "Crie uma fonte em Fontes → Nova": "Créez une source de données dans Sources → Nouvelle",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Introspectez les métadonnées sur la source (bouton \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Testez une requête dans l'Éditeur SQL",
        "Salve uma Pergunta e crie um Dashboard": "Enregistrez une Question et créez un Tableau de bord",

        # Placeholder texts
        "Ex.: DW Produção": "Ex. : DW Production",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ex. : postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "ex : ventes totales par mois",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "slug du tenant (ex. : acme)",
        "nome do tenant": "nom du tenant",
        "email do admin": "e-mail de l'administrateur",
        "senha": "mot de passe",
        "value": "valeur",
        "SELECT ...": "SELECT ...",

        # AI service prompts
        "You are a BI analyst": "Vous êtes un analyste BI",
        "You receive metadata and data sample": "Vous recevez des métadonnées et un exemple de données (colonnes/lignes) d'une question SQL",
        "Respond with clear insights": "Répondez avec des aperçus clairs, des hypothèses, des limitations et suggérez des graphiques",
        "Your output MUST be valid JSON": "Votre sortie DOIT être un JSON valide (pas de markdown, pas de blocs de code) avec ces clés",
        "analysis key": "analysis: string (markdown simple autorisé, mais pas de HTML)",
        "charts key": "charts: liste d'objets {title: string, echarts_option: object}",
        "followups key": "followups: liste de strings",
        "Use only the provided sample": "Utilisez uniquement l'exemple et le profil fournis ; s'il manque quelque chose, dites-le explicitement",
        "For charts generate safe ECharts": "Pour les graphiques, générez des options ECharts sûres, sans fonctions JS",
        "If insufficient data return empty": "S'il n'y a pas assez de données, retournez charts=[] et expliquez dans l'analysis",


        "Relatórios": "Rapports",
        "Novo relatório": "Nouveau rapport",
        "Construa relatórios com drag & drop (estilo Crystal Reports).": "Construisez des rapports en glisser-déposer (style Crystal Reports).",
        "Nenhum relatório criado ainda.": "Aucun rapport créé pour le moment.",
        "Abrir builder": "Ouvrir le builder",
        "Arraste e solte": "Glisser-déposer",
        "Cabeçalho": "En-tête",
        "Corpo": "Corps",
        "Rodapé": "Pied de page",
        "Editar": "Modifier",
        "Remover": "Supprimer",
        "Título do bloco:": "Titre du bloc :",
        "Pergunta salva": "Question enregistrée",
        "Falha ao salvar": "Échec de l'enregistrement",
        "Arraste aqui...": "Déposez ici...",
        "Salvo": "Enregistré",
        "Pergunta #{n}": "Question #{n}",
        "Fechar": "Fermer",
        "Sucesso": "Succès",
        "Info": "Info",
        "Imagem": "Image",
        "Figura / logotipo / screenshot": "Figure / logo / capture d’écran",
        "Adicionar imagem": "Ajouter une image",
        "URL (https://...)": "URL (https://...)",
        "Isso cria um bloco “Imagem” no corpo do relatório.": "Cela crée un bloc « Image » dans le corps du rapport.",
        "URL da imagem:": "URL de l’image :",
        "Texto alternativo (alt):": "Texte alternatif (alt) :",
        "Legenda (opcional):": "Légende (optionnelle) :",
        "Largura (ex.: 300px ou 50%):": "Largeur (ex. : 300px ou 50%) :",
        "Alinhamento (left/center/right):": "Alignement (left/center/right) :",
        "Cor do texto (ex.: #111 ou vazio):": "Couleur du texte (ex. : #111 ou vide) :",
        "Cor de fundo (ex.: #fff ou vazio):": "Couleur de fond (ex. : #fff ou vide) :",
        "Imagem não disponível": "Image indisponible",
        "Texto (Markdown):": "Texte (Markdown) :",
        "Texto:": "Texte :",
        "Bloco": "Bloc",
        "Erro ao executar pergunta: {error}": "Erreur lors de l’exécution de la question : {error}",
        "Editar bloco": "Modifier le bloc",
        "Título": "Titre",
        "URL da imagem": "URL de l'image",
        "https://...": "https://...",
        "Texto alternativo (alt)": "Texte alternatif (alt)",
        "Largura": "Largeur",
        "ex.: 300px ou 50%": "ex. : 300px ou 50%",
        "Pré-visualização": "Aperçu",
        "Estilo": "Style",
        "Cor do texto": "Couleur du texte",
        "Cor de fundo": "Couleur de fond",
        "Sem": "Aucun",
        "hex ou vazio": "hex ou vide",
        "Aplicar": "Appliquer",
        "Esquerda": "Gauche",
        "Centro": "Centre",
        "Direita": "Droite",
        "Padrão": "Par défaut",
    },
    "es": {
        "Accueil": "Inicio",
        "À propos": "Acerca de",
        "Expertise": "Experiencia",
        "Solutions": "Soluciones",
        "Pourquoi AUDELA": "Por qué AUDELA",
        "Projets": "Proyectos",
        "Plans BI": "Planes BI",
        "Área BI": "Área BI",
        "Contact": "Contacto",
        "Mobile": "Móvil",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Todos los derechos reservados.",

        # Index / landing
        "La technologie au service de la décision.": "La tecnología al servicio de la decisión.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & IA — en el corazón de sus operaciones.",
        "Illustration AUDELA": "Ilustración AUDELA",
        "Next": "Siguiente",
        "Grenoble & Alpes": "Grenoble & Alpes",
        "Au-delà des données": "Más allá de los datos",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Convertir la información en decisiones — con ingeniería de software robusta y comprensión real del negocio.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Construimos sistemas que perduran: pipelines de datos industrializados, APIs fiables, aplicaciones web y móviles, y dashboards comprensibles por equipos de campo y dirección.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Nuestro enfoque es pragmático y production-first: seguridad, rendimiento, observabilidad, documentación y transferencia de conocimientos. Objetivo: entregar rápido, sin deuda técnica.",
        "Business Intelligence": "Inteligencia de negocios",
        "Analyse de données & Business Intelligence": "Análisis de datos e Inteligencia de negocios",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingesta, modelado, calidad y exposición: indicadores confiables, trazables y accionables.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Conectamos sus sistemas (ERP, CRM, finanzas, operaciones, APIs), estructuramos los datos (DWH/ELT) y entregamos dashboards que responden a preguntas concretas: margen, rendimiento comercial, plazos, riesgos, cumplimiento.",
        "Voir les écrans Metabase": "Ver las pantallas de Metabase",
        "Plateformes métiers": "Plataformas empresariales",
        "Plateformes métiers, ERP & IA appliquée": "Plataformas empresariales, ERP e IA aplicada",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Herramientas empresariales que reflejan sus flujos de trabajo, con IA útil y explicable.",
        "Découvrir BeLegal": "Descubrir BeLegal",

        # Home page
        "O que já está no MVP": "Lo que ya está en el MVP",
        "Fontes por tenant (cadastro + introspecção)": "Fuentes de datos por inquilino (registro + introspección)",
        "Editor SQL (execução ad-hoc com limites)": "Editor SQL (ejecución ad-hoc con límites)",
        "Perguntas (queries salvas) + execução": "Preguntas (consultas guardadas) + ejecución",
        "Dashboards (cards simples com perguntas)": "Paneles (tarjetas simples con preguntas)",
        "Auditoria + Query Runs por tenant": "Auditoría + Ejecuciones de consultas por inquilino",
        "Começar": "Primeros pasos",
        "Crie uma fonte em Fontes → Nova": "Cree una fuente de datos en Fuentes → Nueva",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Introspeccione metadatos en la fuente (botón \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Pruebe una consulta en el Editor SQL",
        "Salve uma Pergunta e crie um Dashboard": "Guarde una Pregunta y cree un Panel",
        "cadastro + introspecção": "registro + introspección",
        "execução ad-hoc com limites": "ejecución ad-hoc con límites",
        "queries salvas": "consultas guardadas",
        "cards simples com perguntas": "tarjetas simples con preguntas",
        "por tenant": "por inquilino",
        "Nova": "Nueva",
        "e crie um": "y cree un",

        "Portal BI": "Portal BI",
        "Usuário": "Usuario",
        "Sair": "Salir",
        "Home": "Inicio",
        "Fontes": "Fuentes",
        "Metadados": "Metadatos",
        "Editor SQL": "Editor SQL",
        "Query Builder": "Constructor de consultas",
        "Perguntas": "Preguntas",
        "Dashboards": "Tableros",
        "Execuções": "Ejecuciones",
        "Auditoria": "Auditoría",
        "Voltar": "Volver",
        "Cancelar": "Cancelar",
        "Salvar": "Guardar",
        "Executar": "Ejecutar",
        "Resultado": "Resultado",
        "Erro": "Error",
        "Linhas": "Filas",
        "Linhas retornadas": "Filas devueltas",
        "Nova pergunta": "Nueva pregunta",
        "Nova fonte": "Nueva fuente",
        "Criar": "Crear",
        "Dashboard": "Tablero",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Aún no hay tarjetas. Crea un tablero seleccionando preguntas.",
        "Exportar PDF": "Exportar PDF",
        "Limpar filtros": "Limpiar filtros",
        "Filtros": "Filtros",
        "Adicionar filtro": "Agregar filtro",
        "Visualização": "Visualización",
        "Configurar visualização": "Configurar visualización",
        "Prévia": "Vista previa",
        "Tipo": "Tipo",
        "Tabela": "Tabla",
        "Gráfico": "Gráfico",
        "Pivot": "Pivot",
        "Gauges": "Medidores",
        "Drill down": "Desglose",
        "Exportar": "Exportar",
        "Gerar SQL": "Generar SQL",
        "Linguagem humana": "Lenguaje natural",
        "Gerar": "Generar",
        "Tabelas": "Tablas",
        "Colunas": "Columnas",
        "Executar pergunta": "Ejecutar pregunta",
        "Parâmetros (JSON)": "Parámetros (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Use :nombre_param en el SQL y complete los valores aquí. tenant_id se aplica automáticamente.",
        "Gerar SQL no editor": "Generar SQL en el editor",
        "Fonte de dados": "Fuente de datos",
        "Estrutura": "Esquema",
        "Limite": "Límite",
        "montar SELECT com ajuda da estrutura": "construir SELECT con ayuda del esquema",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Elige una fuente para ver tablas y columnas (autocompletado).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Ejecuta consultas ad-hoc con autocompletado, constructor de consultas y lenguaje natural.",
        "Sem linhas retornadas.": "No se devolvieron filas.",

        # UI+AI
        "Editar layout": "Editar diseño",
        "Salvar layout": "Guardar diseño",
        "Cancelar edição": "Cancelar edición",
        "Layout salvo.": "Diseño guardado.",
        "Falha ao salvar layout.": "Error al guardar el diseño.",
        "Modo edição": "Modo edición",
        "IA": "IA",
        "Chat IA": "Chat IA",
        "Pergunte sobre os dados": "Preguntar sobre los datos",
        "Selecione uma pergunta": "Seleccione una pregunta",
        "Enviar": "Enviar",
        "Mensagem": "Mensaje",
        "Histórico": "Historial",
        "Limpar chat": "Limpiar chat",
        "Gerando resposta...": "Generando respuesta...",
        "Análise": "Análisis",
        "Gráficos sugeridos": "Gráficos sugeridos",
        "Sugestões de follow-up": "Sugerencias de seguimiento",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Falta la clave de OpenAI. Defina OPENAI_API_KEY en el servidor.",
        "Erro ao chamar IA: {error}": "Error al llamar a la IA: {error}",
        "Tema": "Tema",
        "Claro": "Claro",
        "Escuro": "Oscuro",
        "Explorar": "Explorar",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Explora datos y crea visualizaciones como Superset/Metabase.",
        "Adicionar card": "Añadir tarjeta",
        "Remover card": "Eliminar tarjeta",
        "Buscar pergunta": "Buscar pregunta",
        "Digite para filtrar...": "Escribe para filtrar...",
        "Você pode refinar depois em Configurar visualização.": "Puedes refinar después en Configurar visualización.",
        "Atualizar": "Actualizar",
        "Salvar visualização": "Guardar visualización",
        "Visualização salva.": "Visualización guardada.",
        "Adicionar ao dashboard": "Añadir al dashboard",
        "Cria um card no dashboard com esta visualização.": "Crea una tarjeta en el dashboard con esta visualización.",
        "Card adicionado ao dashboard.": "Tarjeta añadida al dashboard.",
        "Card criado. Recarregando...": "Tarjeta creada. Recargando...",
        "Criando card...": "Creando tarjeta...",
        "Remover card?": "¿Eliminar tarjeta?",
        "Sem filtros.": "Sin filtros.",
        "Campo": "Campo",
        "Dimensão": "Dimensión",
        "Métrica": "Métrica",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Haz clic en el gráfico para filtrar por un valor.",
        "Pivot linhas": "Filas pivot",
        "Pivot colunas": "Columnas pivot",
        "Pivot valor": "Valor pivot",
        "Visuels & cas d’usage : Data, IA, ERP": "Visuales y casos de uso: Datos, IA, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Una visión de los tipos de soluciones que diseñamos: cuadros de mando, automatización e inteligencia aplicada.",
        "Data & BI": "Datos & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Cuadros de mando ejecutivos, KPIs, gobernanza, calidad y trazabilidad de extremo a extremo.",
        "IA appliquée": "IA aplicada",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Detección de anomalías, scoring de riesgos, asistentes de negocio y análisis predictivo.",
        "ERP & workflows": "ERP & flujos de trabajo",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Flujos de trabajo empresariales, integraciones de sistemas, automatización, controles y auditabilidad.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Gestión de expedientes, rentabilidad por asunto, generación documental, cumplimiento.",
        "Pourquoi AUDELA": "Por qué AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Experiencia profunda, ejecución rigurosa y obsesión por la calidad en producción.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, integraciones limpias: una base sólida para durar y escalar.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Cumplimiento y gobernanza: controles de acceso, trazabilidad y buenas prácticas de TI.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & calidad: desde la fuente hasta el cuadro de mando, sin comprometer los datos.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, logs & alerting: estabilidad, rendimiento y despliegues rápidos.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperabilidad: conexión ERP/CRM/herramientas de negocio, sincronización y automatización.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Entrega y transferencia: alcance, documentación y capacitación de sus equipos.",
        "Découvrir nos plans BI": "Descubre nuestros planes BI",
        "Parlons de votre projet": "Hablemos de tu proyecto",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Describe tu necesidad (Data/BI, ERP, LegalTech, IA, Móvil, IoT). Te contactamos rápidamente.",
        "Votre adresse e-mail": "Tu dirección de correo electrónico",
        "Être rappelé": "Ser contactado",
        "Carregando...": "Cargando...",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Diagrama de fuente",
        "Select data source": "Seleccione la fuente de datos",
        "Load diagram": "Cargar diagrama",
        "Refresh": "Actualizar",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Haga clic en un nodo para resaltar las relaciones. Use la rueda del ratón para acercar/alejar.",

        # Auth messages
        "Tenant não encontrado.": "Tenant no encontrado.",
        "Credenciais inválidas.": "Credenciales inválidas.",
        "Preencha todos os campos.": "Completa todos los campos.",
        "Slug já existe.": "El slug ya existe.",
        "Tenant criado. Faça login.": "Tenant creado. Por favor, inicia sesión.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Completa el nombre, tipo y URL de conexión.",
        "Fonte criada.": "Fuente de datos creada.",
        "Fonte removida.": "Fuente de datos eliminada.",
        "Falha ao introspectar: {error}": "Error de introspección: {error}",
        "Selecione uma fonte válida.": "Selecciona una fuente de datos válida.",
        "Selecione uma fonte.": "Selecciona una fuente de datos.",
        "Fonte inválida.": "Fuente de datos inválida.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Completa el nombre, la fuente y el SQL.",
        "Pergunta criada.": "Pregunta creada.",
        "Pergunta removida.": "Pregunta eliminada.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard creado.",
        "Dashboard removido.": "Dashboard eliminado.",
        "Dashboard definido como principal.": "Dashboard definido como principal.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operación no soportada: ejecuta las migraciones de base de datos para habilitar esta función.",
        "Informe um nome.": "Ingresa un nombre.",

        # Configuration messages
        "Configuração inválida.": "Configuración inválida.",

        # User messages
        "Email e senha são obrigatórios.": "El correo electrónico y la contraseña son obligatorios.",
        "Usuário criado.": "Usuario creado.",
        "Usuário removido.": "Usuario eliminado.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "No se pudo identificar una tabla de forma segura.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Selecciona una tabla en Query Builder (a la derecha) o escribe el SQL manualmente.",
        "Tabela não identificada": "Tabla no identificada",
        "Texto vazio": "Texto vacío",
        "Coluna métrica escolhida por fallback": "Columna de métrica elegida por defecto",
        "Coluna métrica não identificada": "Columna de métrica no identificada",

        # Home page
        "O que já está no MVP": "Lo que ya está en el MVP",
        "Fontes por tenant (cadastro + introspecção)": "Fuentes de datos por inquilino (registro + introspección)",
        "Editor SQL (execução ad-hoc com limites)": "Editor SQL (ejecución ad-hoc con límites)",
        "Perguntas (queries salvas) + execução": "Preguntas (consultas guardadas) + ejecución",
        "Dashboards (cards simples com perguntas)": "Paneles (tarjetas simples con preguntas)",
        "Auditoria + Query Runs por tenant": "Auditoría + Ejecuciones de consultas por inquilino",
        "Começar": "Primeros pasos",
        "Crie uma fonte em Fontes → Nova": "Cree una fuente de datos en Fuentes → Nueva",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Introspeccione metadatos en la fuente (botón \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Pruebe una consulta en el Editor SQL",
        "Salve uma Pergunta e crie um Dashboard": "Guarde una Pregunta y cree un Panel",
        "cadastro + introspecção": "registro + introspección",
        "execução ad-hoc com limites": "ejecución ad-hoc con límites",
        "queries salvas": "consultas guardadas",
        "cards simples com perguntas": "tarjetas simples con preguntas",
        "por tenant": "por inquilino",
        "Nova": "Nueva",
        "e crie um": "y cree un",

        # Placeholder texts
        "Ex.: DW Produção": "Ej.: DW Producción",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Ej.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "ej: total de ventas por mes",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "slug del tenant (ej.: acme)",
        "nome do tenant": "nombre del tenant",
        "email do admin": "correo del administrador",
        "senha": "contraseña",
        "value": "valor",
        "SELECT ...": "SELECT ...",

        # AI service prompts
        "You are a BI analyst": "Eres un analista de BI",
        "You receive metadata and data sample": "Recibes metadatos y una muestra de datos (columnas/filas) de una pregunta SQL",
        "Respond with clear insights": "Responde con información clara, hipótesis, limitaciones y sugiere gráficos",
        "Your output MUST be valid JSON": "Tu salida DEBE ser JSON válido (sin markdown, sin bloques de código) con estas claves",
        "analysis key": "analysis: string (se permite markdown simple, pero sin HTML)",
        "charts key": "charts: lista de objetos {title: string, echarts_option: object}",
        "followups key": "followups: lista de strings",
        "Use only the provided sample": "Usa solo la muestra y el perfil proporcionados; si falta algo, dilo explícitamente",
        "For charts generate safe ECharts": "Para gráficos, genera opciones ECharts seguras, sin funciones JS",
        "If insufficient data return empty": "Si hay datos insuficientes, retorna charts=[] y explica en el análisis",


        "Relatórios": "Informes",
        "Novo relatório": "Nuevo informe",
        "Construa relatórios com drag & drop (estilo Crystal Reports).": "Cree informes con arrastrar y soltar (estilo Crystal Reports).",
        "Nenhum relatório criado ainda.": "Aún no se han creado informes.",
        "Abrir builder": "Abrir constructor",
        "Arraste e solte": "Arrastrar y soltar",
        "Cabeçalho": "Encabezado",
        "Corpo": "Cuerpo",
        "Rodapé": "Pie de página",
        "Editar": "Editar",
        "Remover": "Eliminar",
        "Título do bloco:": "Título del bloque:",
        "Pergunta salva": "Pregunta guardada",
        "Falha ao salvar": "Error al guardar",
        "Arraste aqui...": "Suelte aquí...",
        "Salvo": "Guardado",
        "Pergunta #{n}": "Pregunta #{n}",
        "Fechar": "Cerrar",
        "Sucesso": "Éxito",
        "Info": "Info",
        "Imagem": "Imagen",
        "Figura / logotipo / screenshot": "Figura / logotipo / captura",
        "Adicionar imagem": "Agregar imagen",
        "URL (https://...)": "URL (https://...)",
        "Isso cria um bloco “Imagem” no corpo do relatório.": "Esto crea un bloque “Imagen” en el cuerpo del informe.",
        "URL da imagem:": "URL de la imagen:",
        "Texto alternativo (alt):": "Texto alternativo (alt):",
        "Legenda (opcional):": "Pie de foto (opcional):",
        "Largura (ex.: 300px ou 50%):": "Ancho (p. ej., 300px o 50%):",
        "Alinhamento (left/center/right):": "Alineación (left/center/right):",
        "Cor do texto (ex.: #111 ou vazio):": "Color de texto (p. ej., #111 o vacío):",
        "Cor de fundo (ex.: #fff ou vazio):": "Color de fondo (p. ej., #fff o vacío):",
        "Imagem não disponível": "Imagen no disponible",
        "Texto (Markdown):": "Texto (Markdown):",
        "Texto:": "Texto:",
        "Bloco": "Bloque",
        "Erro ao executar pergunta: {error}": "Error al ejecutar la pregunta: {error}",
        "Editar bloco": "Editar bloque",
        "Título": "Título",
        "URL da imagem": "URL de la imagen",
        "https://...": "https://...",
        "Texto alternativo (alt)": "Texto alternativo (alt)",
        "Largura": "Ancho",
        "ex.: 300px ou 50%": "p. ej., 300px o 50%",
        "Pré-visualização": "Vista previa",
        "Estilo": "Estilo",
        "Cor do texto": "Color del texto",
        "Cor de fundo": "Color de fondo",
        "Sem": "Ninguno",
        "hex ou vazio": "hex o vacío",
        "Aplicar": "Aplicar",
        "Esquerda": "Izquierda",
        "Centro": "Centro",
        "Direita": "Derecha",
        "Padrão": "Predeterminado",
    },
    "it": {
        "Accueil": "Home",
        "À propos": "Chi siamo",
        "Expertise": "Competenze",
        "Solutions": "Soluzioni",
        "Pourquoi AUDELA": "Perché AUDELA",
        "Projets": "Progetti",
        "Plans BI": "Piani BI",
        "Área BI": "Area BI",
        "Contact": "Contatto",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Tutti i diritti riservati.",

        # Index / landing
        "La technologie au service de la décision.": "La tecnologia al servizio della decisione.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Data, BI, ERP, LegalTech & IA — al centro delle vostre operazioni.",
        "Illustration AUDELA": "Illustrazione AUDELA",
        "Next": "Avanti",
        "Grenoble & Alpes": "Grenoble & Alpi",
        "Au-delà des données": "Oltre i dati",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Trasformare l'informazione in decisioni — con ingegneria del software robusta e reale comprensione del business.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Costruiamo sistemi che durano: pipeline dati industrializzati, API affidabili, applicazioni web e mobile e dashboard comprensibili da team operativi e direzione.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Il nostro approccio è pragmatico e production-first: sicurezza, performance, osservabilità, documentazione e trasferimento di competenze. Obiettivo: consegnare velocemente, senza debito tecnico.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Analisi dei dati & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestione, modellazione, qualità ed esposizione: indicatori affidabili, tracciabili e azionabili.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Connettiamo i vostri sistemi (ERP, CRM, finanza, operations, API), strutturiamo i dati (DWH/ELT) e consegniamo dashboard che rispondono a domande concrete: margine, performance commerciale, tempi, rischi, conformità.",
        "Voir les écrans Metabase": "Vedi le schermate Metabase",
        "Plateformes métiers": "Piattaforme di business",
        "Plateformes métiers, ERP & IA appliquée": "Piattaforme business, ERP & IA applicata",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Strumenti business che rispecchiano i vostri workflow, con IA utile e spiegabile.",
        "Découvrir BeLegal": "Scopri BeLegal",

        # Home page
        "O que já está no MVP": "Cosa è già nel MVP",
        "Fontes por tenant (cadastro + introspecção)": "Fonti di dati per tenant (registrazione + introspezione)",
        "Editor SQL (execução ad-hoc com limites)": "Editor SQL (esecuzione ad-hoc con limiti)",
        "Perguntas (queries salvas) + execução": "Domande (query salvate) + esecuzione",
        "Dashboards (cards simples com perguntas)": "Dashboard (schede semplici con domande)",
        "Auditoria + Query Runs por tenant": "Audit + Query Runs per tenant",
        "Começar": "Iniziare",
        "Crie uma fonte em Fontes → Nova": "Crea una fonte di dati in Fonti → Nuovo",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Ispeziona i metadati nella fonte (pulsante \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Prova una query nell'Editor SQL",
        "Salve uma Pergunta e crie um Dashboard": "Salva una Domanda e crea un Dashboard",
        "cadastro + introspecção": "registrazione + introspezione",
        "execução ad-hoc com limites": "esecuzione ad-hoc con limiti",
        "queries salvas": "query salvate",
        "cards simples com perguntas": "schede semplici con domande",
        "por tenant": "per tenant",
        "Nova": "Nuovo",
        "e crie um": "e crea un",

        "Portal BI": "Portale BI",
        "Usuário": "Utente",
        "Sair": "Esci",
        "Home": "Home",
        "Fontes": "Fonti",
        "Metadados": "Metadati",
        "Editor SQL": "Editor SQL",
        "Query Builder": "Generatore di query",
        "Perguntas": "Domande",
        "Dashboards": "Dashboard",
        "Execuções": "Esecuzioni",
        "Auditoria": "Audit",
        "Voltar": "Indietro",
        "Cancelar": "Annulla",
        "Salvar": "Salva",
        "Executar": "Esegui",
        "Resultado": "Risultato",
        "Erro": "Errore",
        "Linhas": "Righe",
        "Linhas retornadas": "Righe restituite",
        "Nova pergunta": "Nuova domanda",
        "Nova fonte": "Nuova fonte",
        "Criar": "Crea",
        "Dashboard": "Dashboard",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Nessuna scheda ancora. Crea una dashboard scegliendo le domande.",
        "Exportar PDF": "Esporta PDF",
        "Limpar filtros": "Pulisci filtri",
        "Filtros": "Filtri",
        "Adicionar filtro": "Aggiungi filtro",
        "Visualização": "Visualizzazione",
        "Configurar visualização": "Configura visualizzazione",
        "Prévia": "Anteprima",
        "Tipo": "Tipo",
        "Tabela": "Tabella",
        "Gráfico": "Grafico",
        "Pivot": "Pivot",
        "Gauges": "Indicatori",
        "Drill down": "Dettaglio",
        "Exportar": "Esporta",
        "Gerar SQL": "Genera SQL",
        "Linguagem humana": "Linguaggio naturale",
        "Gerar": "Genera",
        "Tabelas": "Tabelle",
        "Colunas": "Colonne",
        "Executar pergunta": "Esegui domanda",
        "Parâmetros (JSON)": "Parametri (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Usa :nome_param nello SQL e inserisci i valori qui. tenant_id viene applicato automaticamente.",
        "Gerar SQL no editor": "Genera SQL nell'editor",
        "Fonte de dados": "Fonte dati",
        "Estrutura": "Schema",
        "Limite": "Limite",
        "montar SELECT com ajuda da estrutura": "costruire SELECT con l’aiuto dello schema",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Scegli una fonte per vedere tabelle e colonne (autocompletamento).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Esegui query ad-hoc con autocompletamento, generatore di query e linguaggio naturale.",
        "Sem linhas retornadas.": "Nessuna riga restituita.",

        # UI+AI
        "Editar layout": "Modifica layout",
        "Salvar layout": "Salva layout",
        "Cancelar edição": "Annulla modifica",
        "Layout salvo.": "Layout salvato.",
        "Falha ao salvar layout.": "Errore nel salvare il layout.",
        "Modo edição": "Modalità modifica",
        "IA": "IA",
        "Chat IA": "Chat IA",
        "Pergunte sobre os dados": "Chiedi sui dati",
        "Selecione uma pergunta": "Seleziona una domanda",
        "Enviar": "Invia",
        "Mensagem": "Messaggio",
        "Histórico": "Cronologia",
        "Limpar chat": "Pulisci chat",
        "Gerando resposta...": "Generazione risposta...",
        "Análise": "Analisi",
        "Gráficos sugeridos": "Grafici suggeriti",
        "Sugestões de follow-up": "Suggerimenti di follow-up",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "Chiave OpenAI mancante. Imposta OPENAI_API_KEY sul server.",
        "Erro ao chamar IA: {error}": "Errore chiamando l'IA: {error}",
        "Tema": "Tema",
        "Claro": "Chiaro",
        "Escuro": "Scuro",
        "Explorar": "Esplora",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Esplora i dati e crea visualizzazioni come Superset/Metabase.",
        "Adicionar card": "Aggiungi scheda",
        "Remover card": "Rimuovi scheda",
        "Buscar pergunta": "Cerca domanda",
        "Digite para filtrar...": "Digita per filtrare...",
        "Você pode refinar depois em Configurar visualização.": "Puoi rifinire dopo in Configura visualizzazione.",
        "Atualizar": "Aggiorna",
        "Salvar visualização": "Salva visualizzazione",
        "Visualização salva.": "Visualizzazione salvata.",
        "Adicionar ao dashboard": "Aggiungi al dashboard",
        "Cria um card no dashboard com esta visualização.": "Crea una scheda nel dashboard con questa visualizzazione.",
        "Card adicionado ao dashboard.": "Scheda aggiunta al dashboard.",
        "Card criado. Recarregando...": "Scheda creata. Ricaricamento...",
        "Criando card...": "Creazione scheda...",
        "Remover card?": "Rimuovere la scheda?",
        "Sem filtros.": "Nessun filtro.",
        "Campo": "Campo",
        "Dimensão": "Dimensione",
        "Métrica": "Metrica",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Clicca sul grafico per filtrare per un valore.",
        "Pivot linhas": "Righe pivot",
        "Pivot colunas": "Colonne pivot",
        "Pivot valor": "Valore pivot",
        "Visuels & cas d’usage : Data, IA, ERP": "Visivi & casi d'uso: Dati, IA, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Uno sguardo ai tipi di soluzioni che progettiamo: cruscotti operativi, automazione e intelligenza applicata.",
        "Data & BI": "Dati & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Cruscotti esecutivi, KPI, governance, qualità e tracciabilità end-to-end.",
        "IA appliquée": "IA applicata",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Rilevamento anomalie, scoring dei rischi, assistenti per il business e analisi predittiva.",
        "ERP & workflows": "ERP & flussi di lavoro",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Flussi di lavoro aziendali, integrazioni di sistema, automazione, controlli e auditabilità.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Gestione pratiche, redditività per caso, generazione documentale, conformità.",
        "Pourquoi AUDELA": "Perché AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Competenza profonda, esecuzione rigorosa e ossessione per la qualità in produzione.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, integrazioni pulite: una base solida per durare e crescere.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Conformità e governance: controlli accessi, tracciabilità e best practice IT.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipeline & qualità: dalla sorgente al cruscotto, senza compromessi sui dati.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, monitoring, log & alerting: stabilità, performance e rilasci rapidi in produzione.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperabilità: connessione ERP/CRM/strumenti business, sincronizzazione e automazione.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery e handover: definizione, documentazione e upskilling dei vostri team.",
        "Découvrir nos plans BI": "Scopri i nostri piani BI",
        "Parlons de votre projet": "Parliamo del tuo progetto",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Descrivi la tua esigenza (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Ti ricontatteremo rapidamente.",
        "Votre adresse e-mail": "Il tuo indirizzo e-mail",
        "Être rappelé": "Essere ricontattati",
        "Carregando...": "Caricamento...",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Diagramma sorgente",
        "Select data source": "Seleziona sorgente dati",
        "Load diagram": "Carica diagramma",
        "Refresh": "Aggiorna",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Clicca un nodo per evidenziare le relazioni. Usa la rotellina per zoomare.",

        # Auth messages
        "Tenant não encontrado.": "Tenant non trovato.",
        "Credenciais inválidas.": "Credenziali non valide.",
        "Preencha todos os campos.": "Completa tutti i campi.",
        "Slug já existe.": "Lo slug esiste già.",
        "Tenant criado. Faça login.": "Tenant creato. Accedi.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Completa il nome, il tipo e l'URL di connessione.",
        "Fonte criada.": "Fonte dati creata.",
        "Fonte removida.": "Fonte dati rimossa.",
        "Falha ao introspectar: {error}": "Errore di introspezione: {error}",
        "Selecione uma fonte válida.": "Seleziona una fonte dati valida.",
        "Selecione uma fonte.": "Seleziona una fonte dati.",
        "Fonte inválida.": "Fonte dati non valida.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Completa il nome, la fonte e l'SQL.",
        "Pergunta criada.": "Domanda creata.",
        "Pergunta removida.": "Domanda rimossa.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard creato.",
        "Dashboard removido.": "Dashboard rimosso.",
        "Dashboard definido como principal.": "Dashboard impostato come principale.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Operazione non supportata: esegui le migrazioni del database per abilitare questa funzione.",
        "Informe um nome.": "Inserisci un nome.",

        # Configuration messages
        "Configuração inválida.": "Configurazione non valida.",

        # User messages
        "Email e senha são obrigatórios.": "Email e password sono obbligatori.",
        "Usuário criado.": "Utente creato.",
        "Usuário removido.": "Utente rimosso.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Impossibile identificare una tabella in modo sicuro.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Seleziona una tabella nel Query Builder (a destra) o scrivi l'SQL manualmente.",
        "Tabela não identificada": "Tabella non identificata",
        "Texto vazio": "Testo vuoto",
        "Coluna métrica escolhida por fallback": "Colonna metrica scelta per default",
        "Coluna métrica não identificada": "Colonna metrica non identificata",

        # Home page
        "O que já está no MVP": "Cosa c'è già nell'MVP",
        "Fontes por tenant (cadastro + introspecção)": "Sorgenti dati per inquilino (registrazione + introspezione)",
        "Editor SQL (execução ad-hoc com limites)": "Editor SQL (esecuzione ad-hoc con limiti)",
        "Perguntas (queries salvas) + execução": "Domande (query salvate) + esecuzione",
        "Dashboards (cards simples com perguntas)": "Dashboard (schede semplici con domande)",
        "Auditoria + Query Runs por tenant": "Audit + Esecuzioni query per inquilino",
        "Começar": "Iniziare",
        "Crie uma fonte em Fontes → Nova": "Crea una sorgente dati in Fonti → Nuova",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Ispeziona i metadati sulla sorgente (pulsante \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Testa una query nell'Editor SQL",
        "Salve uma Pergunta e crie um Dashboard": "Salva una Domanda e crea un Dashboard",
        "cadastro + introspecção": "registrazione + introspezione",
        "execução ad-hoc com limites": "esecuzione ad-hoc con limiti",
        "queries salvas": "query salvate",
        "cards simples com perguntas": "schede semplici con domande",
        "por tenant": "per inquilino",
        "Nova": "Nuova",
        "e crie um": "e crea un",

        # Placeholder texts
        "Ex.: DW Produção": "Es.: DW Produzione",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Es.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "es: vendite totali al mese",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "slug del tenant (es.: acme)",
        "nome do tenant": "nome del tenant",
        "email do admin": "email dell'amministratore",
        "senha": "password",
        "value": "valore",
        "SELECT ...": "SELECT ...",

        # AI service prompts
        "You are a BI analyst": "Sei un analista di BI",
        "You receive metadata and data sample": "Ricevi metadati e un campione di dati (colonne/righe) da una domanda SQL",
        "Respond with clear insights": "Rispondi con intuizioni chiare, ipotesi, limitazioni e suggerisci grafici",
        "Your output MUST be valid JSON": "Il tuo output DEVE essere un JSON valido (senza markdown, senza blocchi di codice) con queste chiavi",
        "analysis key": "analysis: string (markdown semplice consentito, ma senza HTML)",
        "charts key": "charts: lista di oggetti {title: string, echarts_option: object}",
        "followups key": "followups: lista di stringhe",
        "Use only the provided sample": "Usa solo il campione e il profilo forniti; se manca qualcosa, dillo esplicitamente",
        "For charts generate safe ECharts": "Per i grafici, genera opzioni ECharts sicure, senza funzioni JS",
        "If insufficient data return empty": "Se ci sono dati insufficienti, restituisci charts=[] e spiega nell'analisi",


        "Relatórios": "Report",
        "Novo relatório": "Nuovo report",
        "Construa relatórios com drag & drop (estilo Crystal Reports).": "Crea report con drag & drop (stile Crystal Reports).",
        "Nenhum relatório criado ainda.": "Nessun report creato ancora.",
        "Abrir builder": "Apri builder",
        "Arraste e solte": "Trascina e rilascia",
        "Cabeçalho": "Intestazione",
        "Corpo": "Corpo",
        "Rodapé": "Piè di pagina",
        "Editar": "Modifica",
        "Remover": "Rimuovi",
        "Título do bloco:": "Titolo del blocco:",
        "Pergunta salva": "Domanda salvata",
        "Falha ao salvar": "Salvataggio non riuscito",
        "Arraste aqui...": "Rilascia qui...",
        "Salvo": "Salvato",
        "Pergunta #{n}": "Domanda #{n}",
        "Fechar": "Chiudi",
        "Sucesso": "Successo",
        "Info": "Info",
        "Imagem": "Immagine",
        "Figura / logotipo / screenshot": "Figura / logo / screenshot",
        "Adicionar imagem": "Aggiungi immagine",
        "URL (https://...)": "URL (https://...)",
        "Isso cria um bloco “Imagem” no corpo do relatório.": "Questo crea un blocco “Immagine” nel corpo del report.",
        "URL da imagem:": "URL dell’immagine:",
        "Texto alternativo (alt):": "Testo alternativo (alt):",
        "Legenda (opcional):": "Didascalia (opzionale):",
        "Largura (ex.: 300px ou 50%):": "Larghezza (es.: 300px o 50%):",
        "Alinhamento (left/center/right):": "Allineamento (left/center/right):",
        "Cor do texto (ex.: #111 ou vazio):": "Colore testo (es.: #111 o vuoto):",
        "Cor de fundo (ex.: #fff ou vazio):": "Colore sfondo (es.: #fff o vuoto):",
        "Imagem não disponível": "Immagine non disponibile",
        "Texto (Markdown):": "Testo (Markdown):",
        "Texto:": "Testo:",
        "Bloco": "Blocco",
        "Erro ao executar pergunta: {error}": "Errore durante l’esecuzione della domanda: {error}",
        "Editar bloco": "Modifica blocco",
        "Título": "Titolo",
        "URL da imagem": "URL immagine",
        "https://...": "https://...",
        "Texto alternativo (alt)": "Testo alternativo (alt)",
        "Largura": "Larghezza",
        "ex.: 300px ou 50%": "es.: 300px o 50%",
        "Pré-visualização": "Anteprima",
        "Estilo": "Stile",
        "Cor do texto": "Colore testo",
        "Cor de fundo": "Colore di sfondo",
        "Sem": "Nessuno",
        "hex ou vazio": "hex o vuoto",
        "Aplicar": "Applica",
        "Esquerda": "Sinistra",
        "Centro": "Centro",
        "Direita": "Destra",
        "Padrão": "Predefinito",
    },
    "de": {
        "Accueil": "Start",
        "À propos": "Über uns",
        "Expertise": "Expertise",
        "Solutions": "Lösungen",
        "Pourquoi AUDELA": "Warum AUDELA",
        "Projets": "Projekte",
        "Plans BI": "BI-Pläne",
        "Área BI": "BI-Bereich",
        "Contact": "Kontakt",
        "Mobile": "Mobile",
        "IoT & Neuro": "IoT & Neuro",
        "BI & Metabase": "BI & Metabase",
        "BeLegal (LegalTech)": "BeLegal (LegalTech)",
        "Tous droits réservés.": "Alle Rechte vorbehalten.",

        # Index / landing
        "La technologie au service de la décision.": "Technologie zur Unterstützung von Entscheidungen.",
        "Data, BI, ERP, LegalTech & IA — au cœur de vos opérations.": "Daten, BI, ERP, LegalTech & KI — im Zentrum Ihrer Abläufe.",
        "Illustration AUDELA": "AUDELA-Illustration",
        "Next": "Weiter",
        "Grenoble & Alpes": "Grenoble & Alpen",
        "Au-delà des données": "Jenseits der Daten",
        "Transformer l'information en décisions — avec une ingénierie logicielle robuste et une compréhension métier réelle.": "Informationen in Entscheidungen verwandeln — mit robuster Softwareentwicklung und echtem Geschäftswissen.",
        "Nous construisons des systèmes qui tiennent dans la durée : pipelines data industrialisés, APIs fiables, applications web et mobile, et des dashboards compréhensibles par les équipes terrain comme par la direction.": "Wir bauen Systeme, die Bestand haben: industrialisierte Datenpipelines, zuverlässige APIs, Web- & Mobile-Apps und Dashboards, die sowohl von operativen Teams als auch von Führungskräften verstanden werden.",
        "Notre approche est pragmatique et \"production-first\" : sécurité, performance, observabilité, documentation, et transfert de compétences. L'objectif : livrer vite, sans dette technique.": "Unser Ansatz ist pragmatisch und production-first: Sicherheit, Performance, Observability, Dokumentation und Wissensübergabe. Ziel: schnell liefern, ohne technischen Schuldenberg.",
        "Business Intelligence": "Business Intelligence",
        "Analyse de données & Business Intelligence": "Datenanalyse & Business Intelligence",
        "Ingestion, modélisation, qualité et exposition : des indicateurs fiables, traçables et actionnables.": "Ingestion, Modellierung, Qualität und Bereitstellung: verlässliche, nachverfolgbare und handlungsfähige Kennzahlen.",
        "Nous connectons vos systèmes (ERP, CRM, finance, opérations, APIs), structurons la donnée (DWH/ELT), et livrons des tableaux de bord qui répondent à des questions concrètes : marge, performance commerciale, délais, risques, conformité.": "Wir verbinden Ihre Systeme (ERP, CRM, Finanzen, Operations, APIs), strukturieren die Daten (DWH/ELT) und liefern Dashboards, die konkrete Fragen beantworten: Marge, Vertriebsperformance, Durchlaufzeiten, Risiken, Compliance.",
        "Voir les écrans Metabase": "Metabase-Bildschirme anzeigen",
        "Plateformes métiers": "Fachliche Plattformen",
        "Plateformes métiers, ERP & IA appliquée": "Fachplattformen, ERP & angewandte KI",
        "Des outils métier qui reflètent vos workflows, avec une IA utile et explicable.": "Business-Tools, die Ihre Workflows abbilden, mit nützlicher und erklärbarer KI.",
        "Découvrir BeLegal": "BeLegal entdecken",

        # Home page
        "O que já está no MVP": "Was ist bereits im MVP",
        "Fontes por tenant (cadastro + introspecção)": "Datenquellen pro Mandant (Registrierung + Introspection)",
        "Editor SQL (execução ad-hoc com limites)": "SQL-Editor (Ad-hoc-Ausführung mit Limits)",
        "Perguntas (queries salvas) + execução": "Fragen (gespeicherte Abfragen) + Ausführung",
        "Dashboards (cards simples com perguntas)": "Dashboards (einfache Karten mit Fragen)",
        "Auditoria + Query Runs por tenant": "Audit + Query Runs pro Mandant",
        "Começar": "Erste Schritte",
        "Crie uma fonte em Fontes → Nova": "Erstellen Sie eine Datenquelle unter Datenquellen → Neu",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Metadaten in der Quelle introspizieren (Schaltfläche \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Testen Sie eine Abfrage im SQL-Editor",
        "Salve uma Pergunta e crie um Dashboard": "Speichern Sie eine Frage und erstellen Sie ein Dashboard",
        "cadastro + introspecção": "Registrierung + Introspection",
        "execução ad-hoc com limites": "Ad-hoc-Ausführung mit Limits",
        "queries salvas": "gespeicherte Abfragen",
        "cards simples com perguntas": "einfache Karten mit Fragen",
        "por tenant": "pro Mandant",
        "Nova": "Neu",
        "e crie um": "und erstellen Sie ein",

        "Portal BI": "BI-Portal",
        "Usuário": "Benutzer",
        "Sair": "Abmelden",
        "Home": "Start",
        "Fontes": "Datenquellen",
        "Metadados": "Metadaten",
        "Editor SQL": "SQL-Editor",
        "Query Builder": "Query Builder",
        "Perguntas": "Fragen",
        "Dashboards": "Dashboards",
        "Execuções": "Ausführungen",
        "Auditoria": "Audit",
        "Voltar": "Zurück",
        "Cancelar": "Abbrechen",
        "Salvar": "Speichern",
        "Executar": "Ausführen",
        "Resultado": "Ergebnis",
        "Erro": "Fehler",
        "Linhas": "Zeilen",
        "Linhas retornadas": "Zurückgegebene Zeilen",
        "Nova pergunta": "Neue Frage",
        "Nova fonte": "Neue Quelle",
        "Criar": "Erstellen",
        "Dashboard": "Dashboard",
        "Nenhum card ainda. Crie um dashboard escolhendo perguntas.": "Noch keine Karten. Erstellen Sie ein Dashboard, indem Sie Fragen auswählen.",
        "Exportar PDF": "PDF exportieren",
        "Limpar filtros": "Filter löschen",
        "Filtros": "Filter",
        "Adicionar filtro": "Filter hinzufügen",
        "Visualização": "Visualisierung",
        "Configurar visualização": "Visualisierung konfigurieren",
        "Prévia": "Vorschau",
        "Tipo": "Typ",
        "Tabela": "Tabelle",
        "Gráfico": "Diagramm",
        "Pivot": "Pivot",
        "Gauges": "Anzeigen",
        "Drill down": "Drill-down",
        "Exportar": "Exportieren",
        "Gerar SQL": "SQL erzeugen",
        "Linguagem humana": "Natürliche Sprache",
        "Gerar": "Erzeugen",
        "Tabelas": "Tabellen",
        "Colunas": "Spalten",
        "Executar pergunta": "Frage ausführen",
        "Parâmetros (JSON)": "Parameter (JSON)",
        "Use :nome_param no SQL e preencha valores aqui. tenant_id é aplicado automaticamente.": "Verwenden Sie :param_name in SQL und tragen Sie hier die Werte ein. tenant_id wird automatisch angewendet.",
        "Gerar SQL no editor": "SQL im Editor erzeugen",
        "Fonte de dados": "Datenquelle",
        "Estrutura": "Schema",
        "Limite": "Limit",
        "montar SELECT com ajuda da estrutura": "SELECT mit Schema-Hilfe erstellen",
        "Escolha uma fonte para ver tabelas e colunas (autocomplete).": "Wählen Sie eine Quelle, um Tabellen und Spalten zu sehen (Autovervollständigung).",
        "Execute consultas ad-hoc, com autocomplete, Query Builder e linguagem humana.": "Führen Sie Ad-hoc-Abfragen mit Autovervollständigung, Query Builder und natürlicher Sprache aus.",
        "Sem linhas retornadas.": "Keine Zeilen zurückgegeben.",

        # UI+AI
        "Editar layout": "Layout bearbeiten",
        "Salvar layout": "Layout speichern",
        "Cancelar edição": "Bearbeitung abbrechen",
        "Layout salvo.": "Layout gespeichert.",
        "Falha ao salvar layout.": "Layout konnte nicht gespeichert werden.",
        "Modo edição": "Bearbeitungsmodus",
        "IA": "KI",
        "Chat IA": "KI-Chat",
        "Pergunte sobre os dados": "Fragen zu den Daten",
        "Selecione uma pergunta": "Wählen Sie eine Frage",
        "Enviar": "Senden",
        "Mensagem": "Nachricht",
        "Histórico": "Verlauf",
        "Limpar chat": "Chat leeren",
        "Gerando resposta...": "Antwort wird erstellt...",
        "Análise": "Analyse",
        "Gráficos sugeridos": "Vorgeschlagene Diagramme",
        "Sugestões de follow-up": "Follow-up-Vorschläge",
        "Chave OpenAI ausente. Defina OPENAI_API_KEY no servidor.": "OpenAI-Schlüssel fehlt. Setzen Sie OPENAI_API_KEY auf dem Server.",
        "Erro ao chamar IA: {error}": "KI-Aufruf fehlgeschlagen: {error}",
        "Tema": "Thema",
        "Claro": "Hell",
        "Escuro": "Dunkel",
        "Explorar": "Erkunden",
        "Explore dados e crie visualizações como no Superset/Metabase.": "Erkunden Sie Daten und erstellen Sie Visualisierungen wie in Superset/Metabase.",
        "Adicionar card": "Karte hinzufügen",
        "Remover card": "Karte entfernen",
        "Buscar pergunta": "Frage suchen",
        "Digite para filtrar...": "Zum Filtern tippen...",
        "Você pode refinar depois em Configurar visualização.": "Sie können später unter Visualisierung konfigurieren verfeinern.",
        "Atualizar": "Aktualisieren",
        "Salvar visualização": "Visualisierung speichern",
        "Visualização salva.": "Visualisierung gespeichert.",
        "Adicionar ao dashboard": "Zum Dashboard hinzufügen",
        "Cria um card no dashboard com esta visualização.": "Erstellt eine Karte im Dashboard mit dieser Visualisierung.",
        "Card adicionado ao dashboard.": "Karte zum Dashboard hinzugefügt.",
        "Card criado. Recarregando...": "Karte erstellt. Neu laden...",
        "Criando card...": "Karte wird erstellt...",
        "Remover card?": "Karte entfernen?",
        "Sem filtros.": "Keine Filter.",
        "Campo": "Feld",
        "Dimensão": "Dimension",
        "Métrica": "Metrik",
        "Drill-down": "Drill-down",
        "Clique no gráfico para filtrar por um valor.": "Klicken Sie auf das Diagramm, um nach einem Wert zu filtern.",
        "Pivot linhas": "Pivot-Zeilen",
        "Pivot colunas": "Pivot-Spalten",
        "Pivot valor": "Pivot-Wert",
        "Visuels & cas d’usage : Data, IA, ERP": "Visualisierungen & Anwendungsfälle: Data, KI, ERP",
        "Un aperçu des types de solutions que nous concevons : pilotage, automatisation et intelligence appliquée.": "Ein Einblick in die Arten von Lösungen, die wir entwickeln: operative Dashboards, Automatisierung und angewandte KI.",
        "Data & BI": "Daten & BI",
        "Tableaux de bord exécutifs, KPIs, gouvernance, qualité et traçabilité de bout en bout.": "Operative Dashboards, KPIs, Governance, Qualität und End-to-End-Traceability.",
        "IA appliquée": "Angewandte KI",
        "Détection d'anomalies, scoring de risques, assistants métiers et analyse prédictive.": "Anomalieerkennung, Risiko-Scoring, Business-Assistenten und prädiktive Analytik.",
        "ERP & workflows": "ERP & Workflows",
        "Workflows métiers, intégrations SI, automatisation, contrôles et auditabilité.": "Business-Workflows, Systemintegrationen, Automatisierung, Kontrollen und Auditierbarkeit.",
        "LegalTech": "LegalTech",
        "Gestion des dossiers, rentabilité par affaire, génération documentaire, conformité.": "Fallverwaltung, Mandatsrentabilität, Dokumentengenerierung, Compliance.",
        "Pourquoi AUDELA": "Warum AUDELA",
        "Une expertise de fond, une exécution rigoureuse, et une obsession de la qualité en production.": "Tiefe Expertise, rigorose Umsetzung und Fokus auf Produktionsqualität.",
        "Cloud-native, API-first, intégrations propres : une base solide pour durer et évoluer.": "Cloud-native, API-first, saubere Integrationen: eine solide Basis für Langlebigkeit und Skalierung.",
        "Conformité et gouvernance : contrôles d’accès, traçabilité, et bonnes pratiques SI.": "Compliance und Governance: Zugriffskontrollen, Nachvollziehbarkeit und IT-Best-Practices.",
        "Pipelines & qualité : de la source au tableau de bord, sans compromis sur les données.": "Pipelines & Qualität: Von der Quelle zum Dashboard ohne Kompromisse bei den Daten.",
        "CI/CD, monitoring, logs & alerting : stabilité, performance et mises en production rapides.": "CI/CD, Monitoring, Logs & Alerting: Stabilität, Performance und schnelle Deployments.",
        "Interopérabilité : connexion ERP/CRM/outils métiers, synchronisation et automatisation.": "Interoperabilität: ERP/CRM/Business-Tools-Anbindung, Synchronisierung und Automatisierung.",
        "Delivery et transfert : cadrage, documentation et montée en compétence de vos équipes.": "Delivery & Übergabe: Scoping, Dokumentation und Skill-Transfer an Ihre Teams.",
        "Découvrir nos plans BI": "Entdecken Sie unsere BI-Pläne",
        "Parlons de votre projet": "Sprechen wir über Ihr Projekt",
        "Décrivez votre besoin (Data/BI, ERP, LegalTech, IA, Mobile, IoT). Nous vous recontactons rapidement.": "Beschreiben Sie Ihr Anliegen (Data/BI, ERP, LegalTech, KI, Mobile, IoT). Wir melden uns schnell bei Ihnen.",
        "Votre adresse e-mail": "Ihre E-Mail-Adresse",
        "Être rappelé": "Zurückgerufen werden",
        "Carregando...": "Laden...",
        "OK": "OK",

        # Source diagram module
        "Source Diagram": "Quellendiagramm",
        "Select data source": "Datenquelle auswählen",
        "Load diagram": "Diagramm laden",
        "Refresh": "Aktualisieren",
        "Click a node to highlight relations. Use mousewheel to zoom.": "Klicken Sie auf einen Knoten, um Beziehungen hervorzuheben. Verwenden Sie das Mausrad zum Zoomen.",

        # Auth messages
        "Tenant não encontrado.": "Mandant nicht gefunden.",
        "Credenciais inválidas.": "Ungültige Anmeldedaten.",
        "Preencha todos os campos.": "Füllen Sie alle Felder aus.",
        "Slug já existe.": "Slug existiert bereits.",
        "Tenant criado. Faça login.": "Mandant erstellt. Bitte melden Sie sich an.",

        # Data source messages
        "Preencha nome, tipo e URL de conexão.": "Geben Sie Namen, Typ und Verbindungs-URL ein.",
        "Fonte criada.": "Datenquelle erstellt.",
        "Fonte removida.": "Datenquelle entfernt.",
        "Falha ao introspectar: {error}": "Introspektionsfehler: {error}",
        "Selecione uma fonte válida.": "Wählen Sie eine gültige Datenquelle.",
        "Selecione uma fonte.": "Wählen Sie eine Datenquelle.",
        "Fonte inválida.": "Ungültige Datenquelle.",

        # Question messages
        "Preencha nome, fonte e SQL.": "Geben Sie Namen, Datenquelle und SQL ein.",
        "Pergunta criada.": "Frage erstellt.",
        "Pergunta removida.": "Frage entfernt.",

        # Dashboard messages
        "Dashboard criado.": "Dashboard erstellt.",
        "Dashboard removido.": "Dashboard entfernt.",
        "Dashboard definido como principal.": "Dashboard als primär festgelegt.",
        "Operação não suportada: execute as migrações do banco para habilitar essa função.": "Vorgang nicht unterstützt: Führen Sie Datenbankmigrationen durch, um diese Funktion zu aktivieren.",
        "Informe um nome.": "Geben Sie einen Namen ein.",

        # Configuration messages
        "Configuração inválida.": "Ungültige Konfiguration.",

        # User messages
        "Email e senha são obrigatórios.": "E-Mail und Passwort sind erforderlich.",
        "Usuário criado.": "Benutzer erstellt.",
        "Usuário removido.": "Benutzer entfernt.",

        # NLQ service messages
        "Não foi possível identificar uma tabela com segurança.": "Tabelle konnte nicht sicher identifiziert werden.",
        "Selecione uma tabela no Query Builder (à direita) ou escreva o SQL manualmente.": "Wählen Sie eine Tabelle im Query Builder (auf der rechten Seite) oder schreiben Sie SQL manuell.",
        "Tabela não identificada": "Tabelle nicht identifiziert",
        "Texto vazio": "Leerer Text",
        "Coluna métrica escolhida por fallback": "Metrik-Spalte als Fallback gewählt",
        "Coluna métrica não identificada": "Metrik-Spalte nicht identifiziert",

        # Home page
        "O que já está no MVP": "Was bereits im MVP vorhanden ist",
        "Fontes por tenant (cadastro + introspecção)": "Datenquellen pro Mandant (Registrierung + Introspection)",
        "Editor SQL (execução ad-hoc com limites)": "SQL-Editor (Ad-hoc-Ausführung mit Limits)",
        "Perguntas (queries salvas) + execução": "Fragen (gespeicherte Abfragen) + Ausführung",
        "Dashboards (cards simples com perguntas)": "Dashboards (einfache Karten mit Fragen)",
        "Auditoria + Query Runs por tenant": "Audit + Query-Ausführungen pro Mandant",
        "Começar": "Erste Schritte",
        "Crie uma fonte em Fontes → Nova": "Erstellen Sie eine Datenquelle unter Quellen → Neu",
        "Introspecte metadados na fonte (botão 'Introspectar')": "Introspektieren Sie Metadaten auf der Quelle (Schaltfläche \"Introspect\")",
        "Teste uma consulta no Editor SQL": "Testen Sie eine Abfrage im SQL-Editor",
        "Salve uma Pergunta e crie um Dashboard": "Speichern Sie eine Frage und erstellen Sie ein Dashboard",
        "cadastro + introspecção": "Registrierung + Introspection",
        "execução ad-hoc com limites": "Ad-hoc-Ausführung mit Limits",
        "queries salvas": "gespeicherte Abfragen",
        "cards simples com perguntas": "einfache Karten mit Fragen",
        "por tenant": "pro Mandant",
        "Nova": "Neu",
        "e crie um": "und erstellen Sie ein",

        # Placeholder texts
        "Ex.: DW Produção": "Z.B.: DW Produktion",
        "Ex.: postgresql+psycopg://user:pass@host:5432/dbname": "Z.B.: postgresql+psycopg://user:pass@host:5432/dbname",
        "public": "public",
        "tenant_id": "tenant_id",
        "ex: total vendas por mês": "z.B.: Gesamtumsatz pro Monat",
        "acme": "acme",
        "you@example.com": "you@example.com",
        "tenant slug (ex.: acme)": "Mandanten-Slug (z.B.: acme)",
        "nome do tenant": "Name des Mandanten",
        "email do admin": "Administrator-E-Mail",
        "senha": "Passwort",
        "value": "Wert",
        "SELECT ...": "SELECT ...",

        # AI service prompts
        "You are a BI analyst": "Sie sind ein BI-Analyst",
        "You receive metadata and data sample": "Sie erhalten Metadaten und ein Datenmuster (Spalten/Zeilen) aus einer SQL-Frage",
        "Respond with clear insights": "Antworten Sie mit klaren Erkenntnissen, Hypothesen, Limitierungen und schlagen Sie Diagramme vor",
        "Your output MUST be valid JSON": "Ihre Ausgabe MUSS gültiges JSON sein (ohne Markdown, ohne Code-Blöcke) mit diesen Schlüsseln",
        "analysis key": "analysis: string (einfaches Markdown erlaubt, aber kein HTML)",
        "charts key": "charts: Liste von Objekten {title: string, echarts_option: object}",
        "followups key": "followups: Liste von Strings",
        "Use only the provided sample": "Verwenden Sie nur das bereitgestellte Muster und Profil; wenn etwas fehlt, sagen Sie es explizit",
        "For charts generate safe ECharts": "Generieren Sie für Diagramme sichere ECharts-Optionen ohne JS-Funktionen",
        "If insufficient data return empty": "Wenn nicht genügend Daten vorhanden sind, geben Sie charts=[] zurück und erklären Sie die Analyse",


        "Relatórios": "Berichte",
        "Novo relatório": "Neuer Bericht",
        "Construa relatórios com drag & drop (estilo Crystal Reports).": "Erstellen Sie Berichte per Drag & Drop (Crystal-Reports-Stil).",
        "Nenhum relatório criado ainda.": "Noch keine Berichte erstellt.",
        "Abrir builder": "Builder öffnen",
        "Arraste e solte": "Drag & Drop",
        "Cabeçalho": "Kopfzeile",
        "Corpo": "Inhalt",
        "Rodapé": "Fußzeile",
        "Editar": "Bearbeiten",
        "Remover": "Entfernen",
        "Título do bloco:": "Blocktitel:",
        "Pergunta salva": "Gespeicherte Frage",
        "Falha ao salvar": "Speichern fehlgeschlagen",
        "Arraste aqui...": "Hier ablegen...",
        "Salvo": "Gespeichert",
        "Pergunta #{n}": "Frage #{n}",
        "Fechar": "Schließen",
        "Sucesso": "Erfolg",
        "Info": "Info",
        "Imagem": "Bild",
        "Figura / logotipo / screenshot": "Abbildung / Logo / Screenshot",
        "Adicionar imagem": "Bild hinzufügen",
        "URL (https://...)": "URL (https://...)",
        "Isso cria um bloco “Imagem” no corpo do relatório.": "Dies erstellt einen „Bild“-Block im Berichtskörper.",
        "URL da imagem:": "Bild-URL:",
        "Texto alternativo (alt):": "Alternativtext (alt):",
        "Legenda (opcional):": "Bildunterschrift (optional):",
        "Largura (ex.: 300px ou 50%):": "Breite (z. B. 300px oder 50%):",
        "Alinhamento (left/center/right):": "Ausrichtung (left/center/right):",
        "Cor do texto (ex.: #111 ou vazio):": "Textfarbe (z. B. #111 oder leer):",
        "Cor de fundo (ex.: #fff ou vazio):": "Hintergrundfarbe (z. B. #fff oder leer):",
        "Imagem não disponível": "Bild nicht verfügbar",
        "Texto (Markdown):": "Text (Markdown):",
        "Texto:": "Text:",
        "Bloco": "Block",
        "Erro ao executar pergunta: {error}": "Fehler beim Ausführen der Frage: {error}",
        "Editar bloco": "Block bearbeiten",
        "Título": "Titel",
        "URL da imagem": "Bild-URL",
        "https://...": "https://...",
        "Texto alternativo (alt)": "Alternativtext (alt)",
        "Largura": "Breite",
        "ex.: 300px ou 50%": "z. B. 300px oder 50%",
        "Pré-visualização": "Vorschau",
        "Estilo": "Stil",
        "Cor do texto": "Textfarbe",
        "Cor de fundo": "Hintergrundfarbe",
        "Sem": "Keine",
        "hex ou vazio": "hex oder leer",
        "Aplicar": "Übernehmen",
        "Esquerda": "Links",
        "Centro": "Mitte",
        "Direita": "Rechts",
        "Padrão": "Standard",
    },
}


def normalize_lang(code: str | None) -> str:
    if not code:
        return DEFAULT_LANG
    code = (code or "").split("-")[0].lower()
    return code if code in SUPPORTED_LANGS else DEFAULT_LANG


def best_lang_from_accept_language(header: str | None) -> str:
    if not header:
        return DEFAULT_LANG
    # Very small parser: keep the first supported language in the header order.
    parts = [p.strip() for p in header.split(",") if p.strip()]
    for part in parts:
        lang = part.split(";")[0].strip()
        norm = normalize_lang(lang)
        if norm in SUPPORTED_LANGS:
            return norm
    return DEFAULT_LANG


def tr(msgid: str, lang: str | None = None, **kwargs: Any) -> str:
    """Translate msgid using the configured dictionary.

    kwargs can be used for basic string formatting, e.g. tr('Hello {name}', name='Rodrigo')
    """
    lang = normalize_lang(lang)
    out = TRANSLATIONS.get(lang, {}).get(msgid, msgid)
    try:
        return out.format(**kwargs)
    except Exception:
        return out
